/*!
 * vue-diagram-editor v1.2.1 | (c) 2021 Maksim Kutishchev
 * Released under the Apache 2 License.
 * https://vue-diagram-editor.js.org
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("Vue")):"function"==typeof define&&define.amd?define(["Vue"],e):"object"==typeof exports?exports.VueDiagramEditor=e(require("Vue")):t.VueDiagramEditor=e(t.Vue)}(window,(function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=140)}([function(t,e,n){var o=n(31),r="object"==typeof self&&self&&self.Object===Object&&self,i=o||r||Function("return this")();t.exports=i},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(e,n){e.exports=t},function(t,e,n){var o=n(64),r=n(70);t.exports=function(t,e){var n=r(t,e);return o(n)?n:void 0}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var o=n(52);t.exports=function(t,e){return o(t,e)}},function(t,e,n){var o=n(9),r=n(66),i=n(67),s=o?o.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?r(t):i(t)}},function(t,e,n){var o=n(54),r=n(55),i=n(56),s=n(57),a=n(58);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}u.prototype.clear=o,u.prototype.delete=r,u.prototype.get=i,u.prototype.has=s,u.prototype.set=a,t.exports=u},function(t,e,n){var o=n(15);t.exports=function(t,e){for(var n=t.length;n--;)if(o(t[n][0],e))return n;return-1}},function(t,e,n){var o=n(0).Symbol;t.exports=o},function(t,e,n){var o=n(3)(Object,"create");t.exports=o},function(t,e,n){var o=n(79);t.exports=function(t,e){var n=t.__data__;return o(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var o=n(101),r=n(16),i=n(102),s=n(103),a=n(104),u=n(6),c=n(32),l=c(o),d=c(r),h=c(i),p=c(s),f=c(a),v=u;(o&&"[object DataView]"!=v(new o(new ArrayBuffer(1)))||r&&"[object Map]"!=v(new r)||i&&"[object Promise]"!=v(i.resolve())||s&&"[object Set]"!=v(new s)||a&&"[object WeakMap]"!=v(new a))&&(v=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,o=n?c(n):"";if(o)switch(o){case l:return"[object DataView]";case d:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case f:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,n){var o=n(45),r=n(46);t.exports=function(t,e,n,i){var s=!n;n||(n={});for(var a=-1,u=e.length;++a<u;){var c=e[a],l=i?i(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),s?r(n,c,l):o(n,c,l)}return n}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var o=n(3)(n(0),"Map");t.exports=o},function(t,e,n){var o=n(92),r=n(39),i=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),o(s(t),(function(e){return i.call(t,e)})))}:r;t.exports=a},function(t,e,n){var o=n(40),r=n(99),i=n(44);t.exports=function(t){return i(t)?o(t):r(t)}},function(t,e,n){(function(t){var o=n(0),r=n(96),i=e&&!e.nodeType&&e,s=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===i?o.Buffer:void 0,u=(a?a.isBuffer:void 0)||r;t.exports=u}).call(this,n(20)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var o=n(31),r=e&&!e.nodeType&&e,i=r&&"object"==typeof t&&t&&!t.nodeType&&t,s=i&&i.exports===r&&o.process,a=function(){try{var t=i&&i.require&&i.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a}).call(this,n(20)(t))},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var o=n(40),r=n(110),i=n(44);t.exports=function(t){return i(t)?o(t,!0):r(t)}},function(t,e,n){var o=n(35);t.exports=function(t){var e=new t.constructor(t.byteLength);return new o(e).set(new o(t)),e}},function(t,e,n){var o=n(27),r="unknown";document.documentMode&&(r="ie"),t.exports={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(t){if(t.clientWidth&&t.clientHeight)return{width:t.clientWidth,height:t.clientHeight};if(t.getBoundingClientRect())return t.getBoundingClientRect();throw new Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(t,e){var n=null;if(!(n=o.isElement(e)?e:t.querySelector(e))){var r=Array.prototype.slice.call(t.childNodes||t.children).filter((function(t){return"defs"!==t.nodeName&&"#text"!==t.nodeName}));1===r.length&&"g"===r[0].nodeName&&null===r[0].getAttribute("transform")&&(n=r[0])}if(!n){var i="viewport-"+(new Date).toISOString().replace(/\D/g,"");(n=document.createElementNS(this.svgNS,"g")).setAttribute("id",i);var s=t.childNodes||t.children;if(s&&s.length>0)for(var a=s.length;a>0;a--)"defs"!==s[s.length-a].nodeName&&n.appendChild(s[s.length-a]);t.appendChild(n)}var u=[];return n.getAttribute("class")&&(u=n.getAttribute("class").split(" ")),~u.indexOf("svg-pan-zoom_viewport")||(u.push("svg-pan-zoom_viewport"),n.setAttribute("class",u.join(" "))),n},setupSvgAttributes:function(t){if(t.setAttribute("xmlns",this.svgNS),t.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),t.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),null!==t.parentNode){var e=t.getAttribute("style")||"";-1===e.toLowerCase().indexOf("overflow")&&t.setAttribute("style","overflow: hidden; "+e)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:o.throttle((function(){for(var t=document.querySelectorAll("defs"),e=t.length,n=0;n<e;n++){var o=t[n];o.parentNode.insertBefore(o,o)}}),this?this.internetExplorerRedisplayInterval:null),setCTM:function(t,e,n){var o=this,i="matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")";t.setAttributeNS(null,"transform",i),"transform"in t.style?t.style.transform=i:"-ms-transform"in t.style?t.style["-ms-transform"]=i:"-webkit-transform"in t.style&&(t.style["-webkit-transform"]=i),"ie"===r&&n&&(n.parentNode.insertBefore(n,n),window.setTimeout((function(){o.refreshDefsGlobal()}),o.internetExplorerRedisplayInterval))},getEventPoint:function(t,e){var n=e.createSVGPoint();return o.mouseAndTouchNormalize(t,e),n.x=t.clientX,n.y=t.clientY,n},getSvgCenterPoint:function(t,e,n){return this.createSVGPoint(t,e/2,n/2)},createSVGPoint:function(t,e,n){var o=t.createSVGPoint();return o.x=e,o.y=n,o}}},function(t,e){function n(t){return function(e){window.setTimeout(e,t)}}t.exports={extend:function(t,e){for(var n in t=t||{},e)this.isObject(e[n])?t[n]=this.extend(t[n],e[n]):t[n]=e[n];return t},isElement:function(t){return t instanceof HTMLElement||t instanceof SVGElement||t instanceof SVGSVGElement||t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},getSvg:function(t){var e,n;if(this.isElement(t))e=t;else{if(!("string"==typeof t||t instanceof String))throw new Error("Provided selector is not an HTML object nor String");if(!(e=document.querySelector(t)))throw new Error("Provided selector did not find any elements. Selector: "+t)}if("svg"===e.tagName.toLowerCase())n=e;else if("object"===e.tagName.toLowerCase())n=e.contentDocument.documentElement;else{if("embed"!==e.tagName.toLowerCase())throw"img"===e.tagName.toLowerCase()?new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.'):new Error("Cannot get SVG.");n=e.getSVGDocument().documentElement}return n},proxy:function(t,e){return function(){return t.apply(e,arguments)}},getType:function(t){return Object.prototype.toString.apply(t).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(t,e){if(void 0===t.clientX||null===t.clientX)if(t.clientX=0,t.clientY=0,void 0!==t.touches&&t.touches.length){if(void 0!==t.touches[0].clientX)t.clientX=t.touches[0].clientX,t.clientY=t.touches[0].clientY;else if(void 0!==t.touches[0].pageX){var n=e.getBoundingClientRect();t.clientX=t.touches[0].pageX-n.left,t.clientY=t.touches[0].pageY-n.top}}else void 0!==t.originalEvent&&void 0!==t.originalEvent.clientX&&(t.clientX=t.originalEvent.clientX,t.clientY=t.originalEvent.clientY)},isDblClick:function(t,e){if(2===t.detail)return!0;if(null!=e){var n=t.timeStamp-e.timeStamp,o=Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2));return n<250&&o<10}return!1},now:Date.now||function(){return(new Date).getTime()},throttle:function(t,e,n){var o,r,i,s=this,a=null,u=0;n||(n={});var c=function(){u=!1===n.leading?0:s.now(),a=null,i=t.apply(o,r),a||(o=r=null)};return function(){var l=s.now();u||!1!==n.leading||(u=l);var d=e-(l-u);return o=this,r=arguments,d<=0||d>e?(clearTimeout(a),a=null,u=l,i=t.apply(o,r),a||(o=r=null)):a||!1===n.trailing||(a=setTimeout(c,d)),i}},createRequestAnimationFrame:function(t){var e=null;return"auto"!==t&&t<60&&t>1&&(e=Math.floor(1e3/t)),null===e?window.requestAnimationFrame||n(33):n(e)}}},function(t,e,n){var o=n(105);t.exports=function(t){return o(t,5)}},function(t,e,n){var o=n(7),r=n(59),i=n(60),s=n(61),a=n(62),u=n(63);function c(t){var e=this.__data__=new o(t);this.size=e.size}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=a,c.prototype.set=u,t.exports=c},function(t,e,n){var o=n(6),r=n(1);t.exports=function(t){if(!r(t))return!1;var e=o(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(65))},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var o=n(71),r=n(78),i=n(80),s=n(81),a=n(82);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}u.prototype.clear=o,u.prototype.delete=r,u.prototype.get=i,u.prototype.has=s,u.prototype.set=a,t.exports=u},function(t,e,n){var o=n(83),r=n(86),i=n(87);t.exports=function(t,e,n,s,a,u){var c=1&n,l=t.length,d=e.length;if(l!=d&&!(c&&d>l))return!1;var h=u.get(t),p=u.get(e);if(h&&p)return h==e&&p==t;var f=-1,v=!0,m=2&n?new o:void 0;for(u.set(t,e),u.set(e,t);++f<l;){var g=t[f],b=e[f];if(s)var y=c?s(b,g,f,e,t,u):s(g,b,f,t,e,u);if(void 0!==y){if(y)continue;v=!1;break}if(m){if(!r(e,(function(t,e){if(!i(m,e)&&(g===t||a(g,t,n,s,u)))return m.push(e)}))){v=!1;break}}else if(g!==b&&!a(g,b,n,s,u)){v=!1;break}}return u.delete(t),u.delete(e),v}},function(t,e,n){var o=n(0).Uint8Array;t.exports=o},function(t,e,n){var o=n(37),r=n(17),i=n(18);t.exports=function(t){return o(t,i,r)}},function(t,e,n){var o=n(38),r=n(12);t.exports=function(t,e,n){var i=e(t);return r(t)?i:o(i,n(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,o=e.length,r=t.length;++n<o;)t[r+n]=e[n];return t}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var o=n(93),r=n(94),i=n(12),s=n(19),a=n(97),u=n(41),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),l=!n&&r(t),d=!n&&!l&&s(t),h=!n&&!l&&!d&&u(t),p=n||l||d||h,f=p?o(t.length,String):[],v=f.length;for(var m in t)!e&&!c.call(t,m)||p&&("length"==m||d&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,v))||f.push(m);return f}},function(t,e,n){var o=n(98),r=n(21),i=n(22),s=i&&i.isTypedArray,a=s?r(s):o;t.exports=a},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var o=n(30),r=n(42);t.exports=function(t){return null!=t&&r(t.length)&&!o(t)}},function(t,e,n){var o=n(46),r=n(15),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var s=t[e];i.call(t,e)&&r(s,n)&&(void 0!==n||e in t)||o(t,e,n)}},function(t,e,n){var o=n(107);t.exports=function(t,e,n){"__proto__"==e&&o?o(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var o=n(38),r=n(48),i=n(17),s=n(39),a=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)o(e,i(t)),t=r(t);return e}:s;t.exports=a},function(t,e,n){var o=n(43)(Object.getPrototypeOf,Object);t.exports=o},function(t,e,n){var o=n(129);t.exports=o},function(t,e,n){var o=n(133),r=n(1);t.exports=function(t,e,n){var i=!0,s=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return r(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),o(t,e,{leading:i,maxWait:e,trailing:s})}},function(t,e){},function(t,e,n){var o=n(53),r=n(4);t.exports=function t(e,n,i,s,a){return e===n||(null==e||null==n||!r(e)&&!r(n)?e!=e&&n!=n:o(e,n,i,s,t,a))}},function(t,e,n){var o=n(29),r=n(34),i=n(88),s=n(91),a=n(13),u=n(12),c=n(19),l=n(41),d="[object Object]",h=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,p,f,v){var m=u(t),g=u(e),b=m?"[object Array]":a(t),y=g?"[object Array]":a(e),w=(b="[object Arguments]"==b?d:b)==d,x=(y="[object Arguments]"==y?d:y)==d,_=b==y;if(_&&c(t)){if(!c(e))return!1;m=!0,w=!1}if(_&&!w)return v||(v=new o),m||l(t)?r(t,e,n,p,f,v):i(t,e,b,n,p,f,v);if(!(1&n)){var P=w&&h.call(t,"__wrapped__"),j=x&&h.call(e,"__wrapped__");if(P||j){var S=P?t.value():t,O=j?e.value():e;return v||(v=new o),f(S,O,n,p,v)}}return!!_&&(v||(v=new o),s(t,e,n,p,f,v))}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var o=n(8),r=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=o(e,t);return!(n<0)&&(n==e.length-1?e.pop():r.call(e,n,1),--this.size,!0)}},function(t,e,n){var o=n(8);t.exports=function(t){var e=this.__data__,n=o(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var o=n(8);t.exports=function(t){return o(this.__data__,t)>-1}},function(t,e,n){var o=n(8);t.exports=function(t,e){var n=this.__data__,r=o(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}},function(t,e,n){var o=n(7);t.exports=function(){this.__data__=new o,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var o=n(7),r=n(16),i=n(33);t.exports=function(t,e){var n=this.__data__;if(n instanceof o){var s=n.__data__;if(!r||s.length<199)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var o=n(30),r=n(68),i=n(1),s=n(32),a=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,d=c.hasOwnProperty,h=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||r(t))&&(o(t)?h:a).test(s(t))}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var o=n(9),r=Object.prototype,i=r.hasOwnProperty,s=r.toString,a=o?o.toStringTag:void 0;t.exports=function(t){var e=i.call(t,a),n=t[a];try{t[a]=void 0;var o=!0}catch(t){}var r=s.call(t);return o&&(e?t[a]=n:delete t[a]),r}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var o,r=n(69),i=(o=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";t.exports=function(t){return!!i&&i in t}},function(t,e,n){var o=n(0)["__core-js_shared__"];t.exports=o},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var o=n(72),r=n(7),i=n(16);t.exports=function(){this.size=0,this.__data__={hash:new o,map:new(i||r),string:new o}}},function(t,e,n){var o=n(73),r=n(74),i=n(75),s=n(76),a=n(77);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}u.prototype.clear=o,u.prototype.delete=r,u.prototype.get=i,u.prototype.has=s,u.prototype.set=a,t.exports=u},function(t,e,n){var o=n(10);t.exports=function(){this.__data__=o?o(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var o=n(10),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(o){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(e,t)?e[t]:void 0}},function(t,e,n){var o=n(10),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return o?void 0!==e[t]:r.call(e,t)}},function(t,e,n){var o=n(10);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=o&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var o=n(11);t.exports=function(t){var e=o(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var o=n(11);t.exports=function(t){return o(this,t).get(t)}},function(t,e,n){var o=n(11);t.exports=function(t){return o(this,t).has(t)}},function(t,e,n){var o=n(11);t.exports=function(t,e){var n=o(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}},function(t,e,n){var o=n(33),r=n(84),i=n(85);function s(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new o;++e<n;)this.add(t[e])}s.prototype.add=s.prototype.push=r,s.prototype.has=i,t.exports=s},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var o=n(9),r=n(35),i=n(15),s=n(34),a=n(89),u=n(90),c=o?o.prototype:void 0,l=c?c.valueOf:void 0;t.exports=function(t,e,n,o,c,d,h){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!d(new r(t),new r(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=a;case"[object Set]":var f=1&o;if(p||(p=u),t.size!=e.size&&!f)return!1;var v=h.get(t);if(v)return v==e;o|=2,h.set(t,e);var m=s(p(t),p(e),o,c,d,h);return h.delete(t),m;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,o){n[++e]=[o,t]})),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var o=n(36),r=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,i,s,a){var u=1&n,c=o(t),l=c.length;if(l!=o(e).length&&!u)return!1;for(var d=l;d--;){var h=c[d];if(!(u?h in e:r.call(e,h)))return!1}var p=a.get(t),f=a.get(e);if(p&&f)return p==e&&f==t;var v=!0;a.set(t,e),a.set(e,t);for(var m=u;++d<l;){var g=t[h=c[d]],b=e[h];if(i)var y=u?i(b,g,h,e,t,a):i(g,b,h,t,e,a);if(!(void 0===y?g===b||s(g,b,n,i,a):y)){v=!1;break}m||(m="constructor"==h)}if(v&&!m){var w=t.constructor,x=e.constructor;w==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(v=!1)}return a.delete(t),a.delete(e),v}},function(t,e){t.exports=function(t,e){for(var n=-1,o=null==t?0:t.length,r=0,i=[];++n<o;){var s=t[n];e(s,n,t)&&(i[r++]=s)}return i}},function(t,e){t.exports=function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}},function(t,e,n){var o=n(95),r=n(4),i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable,u=o(function(){return arguments}())?o:function(t){return r(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=u},function(t,e,n){var o=n(6),r=n(4);t.exports=function(t){return r(t)&&"[object Arguments]"==o(t)}},function(t,e){t.exports=function(){return!1}},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var o=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==o||"symbol"!=o&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var o=n(6),r=n(42),i=n(4),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&r(t.length)&&!!s[o(t)]}},function(t,e,n){var o=n(23),r=n(100),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!o(t))return r(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var o=n(43)(Object.keys,Object);t.exports=o},function(t,e,n){var o=n(3)(n(0),"DataView");t.exports=o},function(t,e,n){var o=n(3)(n(0),"Promise");t.exports=o},function(t,e,n){var o=n(3)(n(0),"Set");t.exports=o},function(t,e,n){var o=n(3)(n(0),"WeakMap");t.exports=o},function(t,e,n){var o=n(29),r=n(106),i=n(45),s=n(108),a=n(109),u=n(112),c=n(113),l=n(114),d=n(115),h=n(36),p=n(116),f=n(13),v=n(117),m=n(118),g=n(123),b=n(12),y=n(19),w=n(125),x=n(1),_=n(127),P=n(18),j=n(24),S={};S["[object Arguments]"]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object DataView]"]=S["[object Boolean]"]=S["[object Date]"]=S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Map]"]=S["[object Number]"]=S["[object Object]"]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object Symbol]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S["[object Error]"]=S["[object Function]"]=S["[object WeakMap]"]=!1,t.exports=function t(e,n,O,z,E,M){var C,D=1&n,k=2&n,N=4&n;if(O&&(C=E?O(e,z,E,M):O(e)),void 0!==C)return C;if(!x(e))return e;var A=b(e);if(A){if(C=v(e),!D)return c(e,C)}else{var Z=f(e),B="[object Function]"==Z||"[object GeneratorFunction]"==Z;if(y(e))return u(e,D);if("[object Object]"==Z||"[object Arguments]"==Z||B&&!E){if(C=k||B?{}:g(e),!D)return k?d(e,a(C,e)):l(e,s(C,e))}else{if(!S[Z])return E?e:{};C=m(e,Z,D)}}M||(M=new o);var T=M.get(e);if(T)return T;M.set(e,C),_(e)?e.forEach((function(o){C.add(t(o,n,O,o,e,M))})):w(e)&&e.forEach((function(o,r){C.set(r,t(o,n,O,r,e,M))}));var I=A?void 0:(N?k?p:h:k?j:P)(e);return r(I||e,(function(o,r){I&&(o=e[r=o]),i(C,r,t(o,n,O,r,e,M))})),C}},function(t,e){t.exports=function(t,e){for(var n=-1,o=null==t?0:t.length;++n<o&&!1!==e(t[n],n,t););return t}},function(t,e,n){var o=n(3),r=function(){try{var t=o(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=r},function(t,e,n){var o=n(14),r=n(18);t.exports=function(t,e){return t&&o(e,r(e),t)}},function(t,e,n){var o=n(14),r=n(24);t.exports=function(t,e){return t&&o(e,r(e),t)}},function(t,e,n){var o=n(1),r=n(23),i=n(111),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!o(t))return i(t);var e=r(t),n=[];for(var a in t)("constructor"!=a||!e&&s.call(t,a))&&n.push(a);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){(function(t){var o=n(0),r=e&&!e.nodeType&&e,i=r&&"object"==typeof t&&t&&!t.nodeType&&t,s=i&&i.exports===r?o.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,o=a?a(n):new t.constructor(n);return t.copy(o),o}}).call(this,n(20)(t))},function(t,e){t.exports=function(t,e){var n=-1,o=t.length;for(e||(e=Array(o));++n<o;)e[n]=t[n];return e}},function(t,e,n){var o=n(14),r=n(17);t.exports=function(t,e){return o(t,r(t),e)}},function(t,e,n){var o=n(14),r=n(47);t.exports=function(t,e){return o(t,r(t),e)}},function(t,e,n){var o=n(37),r=n(47),i=n(24);t.exports=function(t){return o(t,i,r)}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,o=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(o.index=t.index,o.input=t.input),o}},function(t,e,n){var o=n(25),r=n(119),i=n(120),s=n(121),a=n(122);t.exports=function(t,e,n){var u=t.constructor;switch(e){case"[object ArrayBuffer]":return o(t);case"[object Boolean]":case"[object Date]":return new u(+t);case"[object DataView]":return r(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(t,n);case"[object Map]":return new u;case"[object Number]":case"[object String]":return new u(t);case"[object RegExp]":return i(t);case"[object Set]":return new u;case"[object Symbol]":return s(t)}}},function(t,e,n){var o=n(25);t.exports=function(t,e){var n=e?o(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var o=n(9),r=o?o.prototype:void 0,i=r?r.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,e,n){var o=n(25);t.exports=function(t,e){var n=e?o(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var o=n(124),r=n(48),i=n(23);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:o(r(t))}},function(t,e,n){var o=n(1),r=Object.create,i=function(){function t(){}return function(e){if(!o(e))return{};if(r)return r(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e,n){var o=n(126),r=n(21),i=n(22),s=i&&i.isMap,a=s?r(s):o;t.exports=a},function(t,e,n){var o=n(13),r=n(4);t.exports=function(t){return r(t)&&"[object Map]"==o(t)}},function(t,e,n){var o=n(128),r=n(21),i=n(22),s=i&&i.isSet,a=s?r(s):o;t.exports=a},function(t,e,n){var o=n(13),r=n(4);t.exports=function(t){return r(t)&&"[object Set]"==o(t)}},function(t,e,n){var o=n(130),r=n(131),i=n(27),s=n(26),a=n(132),u=function(t,e){this.init(t,e)},c={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:.1,minZoom:.5,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null,eventsListenerElement:null,onUpdatedCTM:null},l={passive:!0};u.prototype.init=function(t,e){var n=this;this.svg=t,this.defs=t.querySelector("defs"),s.setupSvgAttributes(this.svg),this.options=i.extend(i.extend({},c),e),this.state="none";var o=s.getBoundingClientRectNormalized(t);this.width=o.width,this.height=o.height,this.viewport=a(s.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,contain:this.options.contain,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(t,e){if(n.viewport&&n.options.beforeZoom)return n.options.beforeZoom(t,e)},onZoom:function(t){if(n.viewport&&n.options.onZoom)return n.options.onZoom(t)},beforePan:function(t,e){if(n.viewport&&n.options.beforePan)return n.options.beforePan(t,e)},onPan:function(t){if(n.viewport&&n.options.onPan)return n.options.onPan(t)},onUpdatedCTM:function(t){if(n.viewport&&n.options.onUpdatedCTM)return n.options.onUpdatedCTM(t)}});var u=this.getPublicInstance();u.setBeforeZoom(this.options.beforeZoom),u.setOnZoom(this.options.onZoom),u.setBeforePan(this.options.beforePan),u.setOnPan(this.options.onPan),u.setOnUpdatedCTM(this.options.onUpdatedCTM),this.options.controlIconsEnabled&&r.enable(this),this.lastMouseWheelEventTime=Date.now(),this.setupHandlers()},u.prototype.setupHandlers=function(){var t=this,e=null;if(this.eventListeners={mousedown:function(n){var o=t.handleMouseDown(n,e);return e=n,o},touchstart:function(n){var o=t.handleMouseDown(n,e);return e=n,o},mouseup:function(e){return t.handleMouseUp(e)},touchend:function(e){return t.handleMouseUp(e)},mousemove:function(e){return t.handleMouseMove(e)},touchmove:function(e){return t.handleMouseMove(e)},mouseleave:function(e){return t.handleMouseUp(e)},touchleave:function(e){return t.handleMouseUp(e)},touchcancel:function(e){return t.handleMouseUp(e)}},null!=this.options.customEventsHandler){this.options.customEventsHandler.init({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});var n=this.options.customEventsHandler.haltEventListeners;if(n&&n.length)for(var o=n.length-1;o>=0;o--)this.eventListeners.hasOwnProperty(n[o])&&delete this.eventListeners[n[o]]}for(var r in this.eventListeners)(this.options.eventsListenerElement||this.svg).addEventListener(r,this.eventListeners[r],!this.options.preventMouseEventsDefault&&l);this.options.mouseWheelZoomEnabled&&(this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom())},u.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var t=this;this.wheelListener=function(e){return t.handleMouseWheel(e)};var e=!this.options.preventMouseEventsDefault;o.on(this.options.eventsListenerElement||this.svg,this.wheelListener,e),this.options.mouseWheelZoomEnabled=!0}},u.prototype.disableMouseWheelZoom=function(){if(this.options.mouseWheelZoomEnabled){var t=!this.options.preventMouseEventsDefault;o.off(this.options.eventsListenerElement||this.svg,this.wheelListener,t),this.options.mouseWheelZoomEnabled=!1}},u.prototype.handleMouseWheel=function(t){if(this.options.zoomEnabled&&"none"===this.state){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1);var e=t.deltaY||1,n=Date.now()-this.lastMouseWheelEventTime,o=3+Math.max(0,30-n);this.lastMouseWheelEventTime=Date.now(),"deltaMode"in t&&0===t.deltaMode&&t.wheelDelta&&(e=0===t.deltaY?0:Math.abs(t.wheelDelta)/t.deltaY),e=-.3<e&&e<.3?e:(e>0?1:-1)*Math.log(Math.abs(e)+10)/o;var r=this.svg.getScreenCTM().inverse(),i=s.getEventPoint(t,this.svg).matrixTransform(r),a=Math.pow(1+this.options.zoomScaleSensitivity,-1*e);this.zoomAtPoint(a,i)}},u.prototype.zoomAtPoint=function(t,e,n){var o=this.viewport.getOriginalState();n?(t=Math.max(this.options.minZoom*o.zoom,Math.min(this.options.maxZoom*o.zoom,t)),t/=this.getZoom()):this.getZoom()*t<this.options.minZoom*o.zoom?t=this.options.minZoom*o.zoom/this.getZoom():this.getZoom()*t>this.options.maxZoom*o.zoom&&(t=this.options.maxZoom*o.zoom/this.getZoom());var r=this.viewport.getCTM(),i=e.matrixTransform(r.inverse()),s=this.svg.createSVGMatrix().translate(i.x,i.y).scale(t).translate(-i.x,-i.y),a=r.multiply(s);a.a!==r.a&&this.viewport.setCTM(a)},u.prototype.zoom=function(t,e){this.zoomAtPoint(t,s.getSvgCenterPoint(this.svg,this.width,this.height),e)},u.prototype.publicZoom=function(t,e){e&&(t=this.computeFromRelativeZoom(t)),this.zoom(t,e)},u.prototype.publicZoomAtPoint=function(t,e,n){if(n&&(t=this.computeFromRelativeZoom(t)),"SVGPoint"!==i.getType(e)){if(!("x"in e)||!("y"in e))throw new Error("Given point is invalid");e=s.createSVGPoint(this.svg,e.x,e.y)}this.zoomAtPoint(t,e,n)},u.prototype.getZoom=function(){return this.viewport.getZoom()},u.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()},u.prototype.computeFromRelativeZoom=function(t){return t*this.viewport.getOriginalState().zoom},u.prototype.resetZoom=function(){var t=this.viewport.getOriginalState();this.zoom(t.zoom,!0)},u.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())},u.prototype.reset=function(){this.resetZoom(),this.resetPan()},u.prototype.handleDblClick=function(t){var e;if((this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),this.options.controlIconsEnabled)&&(t.target.getAttribute("class")||"").indexOf("svg-pan-zoom-control")>-1)return!1;e=t.shiftKey?1/(2*(1+this.options.zoomScaleSensitivity)):2*(1+this.options.zoomScaleSensitivity);var n=s.getEventPoint(t,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(e,n)},u.prototype.handleMouseDown=function(t,e){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),i.mouseAndTouchNormalize(t,this.svg),this.options.dblClickZoomEnabled&&i.isDblClick(t,e)?this.handleDblClick(t):(this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=s.getEventPoint(t,this.svg).matrixTransform(this.firstEventCTM.inverse()))},u.prototype.handleMouseMove=function(t){if(this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),"pan"===this.state&&this.options.panEnabled){var e=s.getEventPoint(t,this.svg).matrixTransform(this.firstEventCTM.inverse()),n=this.firstEventCTM.translate(e.x-this.stateOrigin.x,e.y-this.stateOrigin.y);this.viewport.setCTM(n)}},u.prototype.handleMouseUp=function(t){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),"pan"===this.state&&(this.state="none")},u.prototype.fit=function(){var t=this.viewport.getViewBox(),e=Math.min(this.width/t.width,this.height/t.height);this.zoom(e,!0)},u.prototype.contain=function(){var t=this.viewport.getViewBox(),e=Math.max(this.width/t.width,this.height/t.height);this.zoom(e,!0)},u.prototype.center=function(){var t=this.viewport.getViewBox(),e=.5*(this.width-(t.width+2*t.x)*this.getZoom()),n=.5*(this.height-(t.height+2*t.y)*this.getZoom());this.getPublicInstance().pan({x:e,y:n})},u.prototype.updateBBox=function(){this.viewport.simpleViewBoxCache()},u.prototype.pan=function(t){var e=this.viewport.getCTM();e.e=t.x,e.f=t.y,this.viewport.setCTM(e)},u.prototype.panBy=function(t){var e=this.viewport.getCTM();e.e+=t.x,e.f+=t.y,this.viewport.setCTM(e)},u.prototype.getPan=function(){var t=this.viewport.getState();return{x:t.x,y:t.y}},u.prototype.resize=function(){var t=s.getBoundingClientRectNormalized(this.svg);this.width=t.width,this.height=t.height;var e=this.viewport;e.options.width=this.width,e.options.height=this.height,e.processCTM(),this.options.controlIconsEnabled&&(this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons())},u.prototype.destroy=function(){var t=this;for(var e in this.beforeZoom=null,this.onZoom=null,this.beforePan=null,this.onPan=null,this.onUpdatedCTM=null,null!=this.options.customEventsHandler&&this.options.customEventsHandler.destroy({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()}),this.eventListeners)(this.options.eventsListenerElement||this.svg).removeEventListener(e,this.eventListeners[e],!this.options.preventMouseEventsDefault&&l);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),this.reset(),d=d.filter((function(e){return e.svg!==t.svg})),delete this.options,delete this.viewport,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}},u.prototype.getPublicInstance=function(){var t=this;return this.publicInstance||(this.publicInstance=this.pi={enablePan:function(){return t.options.panEnabled=!0,t.pi},disablePan:function(){return t.options.panEnabled=!1,t.pi},isPanEnabled:function(){return!!t.options.panEnabled},pan:function(e){return t.pan(e),t.pi},panBy:function(e){return t.panBy(e),t.pi},getPan:function(){return t.getPan()},setBeforePan:function(e){return t.options.beforePan=null===e?null:i.proxy(e,t.publicInstance),t.pi},setOnPan:function(e){return t.options.onPan=null===e?null:i.proxy(e,t.publicInstance),t.pi},enableZoom:function(){return t.options.zoomEnabled=!0,t.pi},disableZoom:function(){return t.options.zoomEnabled=!1,t.pi},isZoomEnabled:function(){return!!t.options.zoomEnabled},enableControlIcons:function(){return t.options.controlIconsEnabled||(t.options.controlIconsEnabled=!0,r.enable(t)),t.pi},disableControlIcons:function(){return t.options.controlIconsEnabled&&(t.options.controlIconsEnabled=!1,r.disable(t)),t.pi},isControlIconsEnabled:function(){return!!t.options.controlIconsEnabled},enableDblClickZoom:function(){return t.options.dblClickZoomEnabled=!0,t.pi},disableDblClickZoom:function(){return t.options.dblClickZoomEnabled=!1,t.pi},isDblClickZoomEnabled:function(){return!!t.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return t.enableMouseWheelZoom(),t.pi},disableMouseWheelZoom:function(){return t.disableMouseWheelZoom(),t.pi},isMouseWheelZoomEnabled:function(){return!!t.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(e){return t.options.zoomScaleSensitivity=e,t.pi},setMinZoom:function(e){return t.options.minZoom=e,t.pi},setMaxZoom:function(e){return t.options.maxZoom=e,t.pi},setBeforeZoom:function(e){return t.options.beforeZoom=null===e?null:i.proxy(e,t.publicInstance),t.pi},setOnZoom:function(e){return t.options.onZoom=null===e?null:i.proxy(e,t.publicInstance),t.pi},zoom:function(e){return t.publicZoom(e,!0),t.pi},zoomBy:function(e){return t.publicZoom(e,!1),t.pi},zoomAtPoint:function(e,n){return t.publicZoomAtPoint(e,n,!0),t.pi},zoomAtPointBy:function(e,n){return t.publicZoomAtPoint(e,n,!1),t.pi},zoomIn:function(){return this.zoomBy(1+t.options.zoomScaleSensitivity),t.pi},zoomOut:function(){return this.zoomBy(1/(1+t.options.zoomScaleSensitivity)),t.pi},getZoom:function(){return t.getRelativeZoom()},setOnUpdatedCTM:function(e){return t.options.onUpdatedCTM=null===e?null:i.proxy(e,t.publicInstance),t.pi},resetZoom:function(){return t.resetZoom(),t.pi},resetPan:function(){return t.resetPan(),t.pi},reset:function(){return t.reset(),t.pi},fit:function(){return t.fit(),t.pi},contain:function(){return t.contain(),t.pi},center:function(){return t.center(),t.pi},updateBBox:function(){return t.updateBBox(),t.pi},resize:function(){return t.resize(),t.pi},getSizes:function(){return{width:t.width,height:t.height,realZoom:t.getZoom(),viewBox:t.viewport.getViewBox()}},destroy:function(){return t.destroy(),t.pi}}),this.publicInstance};var d=[];t.exports=function(t,e){var n=i.getSvg(t);if(null===n)return null;for(var o=d.length-1;o>=0;o--)if(d[o].svg===n)return d[o].instance.getPublicInstance();return d.push({svg:n,instance:new u(n,e)}),d[d.length-1].instance.getPublicInstance()}},function(t,e){t.exports=function(){var t,e,n,o="",r=[],i={passive:!0};function s(e,s,a,u){var c;c="wheel"===n?a:function(t,e){var o=function(t){!t&&(t=window.event);var o={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==n?(o.deltaY=-1/40*t.wheelDelta,t.wheelDeltaX&&(o.deltaX=-1/40*t.wheelDeltaX)):o.deltaY=t.detail,e(o)};return r.push({element:t,fn:o}),o}(e,a),e[t](o+s,c,!!u&&i)}function a(t,s,a,u){var c;c="wheel"===n?a:function(t){for(var e=0;e<r.length;e++)if(r[e].element===t)return r[e].fn;return function(){}}(t),t[e](o+s,c,!!u&&i),function(t){for(var e=0;e<r.length;e++)if(r[e].element===t)return r.splice(e,1)}(t)}return window.addEventListener?(t="addEventListener",e="removeEventListener"):(t="attachEvent",e="detachEvent",o="on"),n="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",{on:function(t,e,o){s(t,n,e,o),"DOMMouseScroll"==n&&s(t,"MozMousePixelScroll",e,o)},off:function(t,e,o){a(t,n,e,o),"DOMMouseScroll"==n&&a(t,"MozMousePixelScroll",e,o)}}}()},function(t,e,n){var o=n(26);t.exports={enable:function(t){var e=t.svg.querySelector("defs");if(e||(e=document.createElementNS(o.svgNS,"defs"),t.svg.appendChild(e)),!e.querySelector("style#svg-pan-zoom-controls-styles")){var n=document.createElementNS(o.svgNS,"style");n.setAttribute("id","svg-pan-zoom-controls-styles"),n.setAttribute("type","text/css"),n.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",e.appendChild(n)}var r=document.createElementNS(o.svgNS,"g");r.setAttribute("id","svg-pan-zoom-controls"),r.setAttribute("transform","translate("+(t.width-70)+" "+(t.height-76)+") scale(0.75)"),r.setAttribute("class","svg-pan-zoom-control"),r.appendChild(this._createZoomIn(t)),r.appendChild(this._createZoomReset(t)),r.appendChild(this._createZoomOut(t)),t.svg.appendChild(r),t.controlIcons=r},_createZoomIn:function(t){var e=document.createElementNS(o.svgNS,"g");e.setAttribute("id","svg-pan-zoom-zoom-in"),e.setAttribute("transform","translate(30.5 5) scale(0.015)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",(function(){t.getPublicInstance().zoomIn()}),!1),e.addEventListener("touchstart",(function(){t.getPublicInstance().zoomIn()}),!1);var n=document.createElementNS(o.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var r=document.createElementNS(o.svgNS,"path");return r.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),r.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(r),e},_createZoomReset:function(t){var e=document.createElementNS(o.svgNS,"g");e.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),e.setAttribute("transform","translate(5 35) scale(0.4)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",(function(){t.getPublicInstance().reset()}),!1),e.addEventListener("touchstart",(function(){t.getPublicInstance().reset()}),!1);var n=document.createElementNS(o.svgNS,"rect");n.setAttribute("x","2"),n.setAttribute("y","2"),n.setAttribute("width","182"),n.setAttribute("height","58"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var r=document.createElementNS(o.svgNS,"path");r.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),r.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(r);var i=document.createElementNS(o.svgNS,"path");return i.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),i.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(i),e},_createZoomOut:function(t){var e=document.createElementNS(o.svgNS,"g");e.setAttribute("id","svg-pan-zoom-zoom-out"),e.setAttribute("transform","translate(30.5 70) scale(0.015)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",(function(){t.getPublicInstance().zoomOut()}),!1),e.addEventListener("touchstart",(function(){t.getPublicInstance().zoomOut()}),!1);var n=document.createElementNS(o.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var r=document.createElementNS(o.svgNS,"path");return r.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),r.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(r),e},disable:function(t){t.controlIcons&&(t.controlIcons.parentNode.removeChild(t.controlIcons),t.controlIcons=null)}}},function(t,e,n){var o=n(26),r=n(27),i=function(t,e){this.init(t,e)};i.prototype.init=function(t,e){this.viewport=t,this.options=e,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=r.proxy(this.updateCTM,this),this.requestAnimationFrame=r.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox();var n=this.processCTM();this.setCTM(n),this.updateCTM()},i.prototype.cacheViewBox=function(){var t=this.options.svg.getAttribute("viewBox");if(t){var e=t.split(/[\s\,]/).filter((function(t){return t})).map(parseFloat);this.viewBox.x=e[0],this.viewBox.y=e[1],this.viewBox.width=e[2],this.viewBox.height=e[3];var n=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=n,this.activeState.x=(this.options.width-this.viewBox.width*n)/2,this.activeState.y=(this.options.height-this.viewBox.height*n)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else this.simpleViewBoxCache()},i.prototype.simpleViewBoxCache=function(){var t=this.viewport.getBBox();this.viewBox.x=t.x,this.viewBox.y=t.y,this.viewBox.width=t.width,this.viewBox.height=t.height},i.prototype.getViewBox=function(){return r.extend({},this.viewBox)},i.prototype.processCTM=function(){var t,e=this.getCTM();(this.options.fit||this.options.contain)&&(t=this.options.fit?Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height):Math.max(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height),e.a=t,e.d=t,e.e=-this.viewBox.x*t,e.f=-this.viewBox.y*t);if(this.options.center){var n=.5*(this.options.width-(this.viewBox.width+2*this.viewBox.x)*e.a),o=.5*(this.options.height-(this.viewBox.height+2*this.viewBox.y)*e.a);e.e=n,e.f=o}return this.originalState.zoom=e.a,this.originalState.x=e.e,this.originalState.y=e.f,e},i.prototype.getOriginalState=function(){return r.extend({},this.originalState)},i.prototype.getState=function(){return r.extend({},this.activeState)},i.prototype.getZoom=function(){return this.activeState.zoom},i.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom},i.prototype.computeRelativeZoom=function(t){return t/this.originalState.zoom},i.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}},i.prototype.getCTM=function(){var t=this.options.svg.createSVGMatrix();return t.a=this.activeState.zoom,t.b=0,t.c=0,t.d=this.activeState.zoom,t.e=this.activeState.x,t.f=this.activeState.y,t},i.prototype.setCTM=function(t){var e=this.isZoomDifferent(t),n=this.isPanDifferent(t);if(e||n){if(e&&(!1===this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(t.a))?(t.a=t.d=this.activeState.zoom,e=!1):(this.updateCache(t),this.options.onZoom(this.getRelativeZoom()))),n){var o=this.options.beforePan(this.getPan(),{x:t.e,y:t.f}),i=!1,s=!1;!1===o?(t.e=this.getPan().x,t.f=this.getPan().y,i=s=!0):r.isObject(o)&&(!1===o.x?(t.e=this.getPan().x,i=!0):r.isNumber(o.x)&&(t.e=o.x),!1===o.y?(t.f=this.getPan().y,s=!0):r.isNumber(o.y)&&(t.f=o.y)),i&&s||!this.isPanDifferent(t)?n=!1:(this.updateCache(t),this.options.onPan(this.getPan()))}(e||n)&&this.updateCTMOnNextFrame()}},i.prototype.isZoomDifferent=function(t){return this.activeState.zoom!==t.a},i.prototype.isPanDifferent=function(t){return this.activeState.x!==t.e||this.activeState.y!==t.f},i.prototype.updateCache=function(t){this.activeState.zoom=t.a,this.activeState.x=t.e,this.activeState.y=t.f},i.prototype.pendingUpdate=!1,i.prototype.updateCTMOnNextFrame=function(){this.pendingUpdate||(this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached))},i.prototype.updateCTM=function(){var t=this.getCTM();o.setCTM(this.viewport,t,this.defs),this.pendingUpdate=!1,this.options.onUpdatedCTM&&this.options.onUpdatedCTM(t)},t.exports=function(t,e){return new i(t,e)}},function(t,e,n){var o=n(1),r=n(134),i=n(135),s=Math.max,a=Math.min;t.exports=function(t,e,n){var u,c,l,d,h,p,f=0,v=!1,m=!1,g=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function b(e){var n=u,o=c;return u=c=void 0,f=e,d=t.apply(o,n)}function y(t){return f=t,h=setTimeout(x,e),v?b(t):d}function w(t){var n=t-p;return void 0===p||n>=e||n<0||m&&t-f>=l}function x(){var t=r();if(w(t))return _(t);h=setTimeout(x,function(t){var n=e-(t-p);return m?a(n,l-(t-f)):n}(t))}function _(t){return h=void 0,g&&u?b(t):(u=c=void 0,d)}function P(){var t=r(),n=w(t);if(u=arguments,c=this,p=t,n){if(void 0===h)return y(p);if(m)return clearTimeout(h),h=setTimeout(x,e),b(p)}return void 0===h&&(h=setTimeout(x,e)),d}return e=i(e)||0,o(n)&&(v=!!n.leading,l=(m="maxWait"in n)?s(i(n.maxWait)||0,e):l,g="trailing"in n?!!n.trailing:g),P.cancel=function(){void 0!==h&&clearTimeout(h),f=0,u=p=c=h=void 0},P.flush=function(){return void 0===h?d:_(r())},P}},function(t,e,n){var o=n(0);t.exports=function(){return o.Date.now()}},function(t,e,n){var o=n(136),r=n(1),i=n(138),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=o(t);var n=a.test(t);return n||u.test(t)?c(t.slice(2),n?2:8):s.test(t)?NaN:+t}},function(t,e,n){var o=n(137),r=/^\s+/;t.exports=function(t){return t?t.slice(0,o(t)+1).replace(r,""):t}},function(t,e){var n=/\s/;t.exports=function(t){for(var e=t.length;e--&&n.test(t.charAt(e)););return e}},function(t,e,n){var o=n(6),r=n(4);t.exports=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==o(t)}},function(t,e,n){},function(t,e,n){"use strict";n.r(e),n.d(e,"Diagram",(function(){return ot})),n.d(e,"Node",(function(){return P})),n.d(e,"Link",(function(){return q})),n.d(e,"Size",(function(){return y})),n.d(e,"Coordinates",(function(){return g}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"diagram-editor__wrapper"},[n("DiagramRoot",{ref:"diagram",attrs:{width:t.width,height:t.height,"grid-snap":t.gridSnap,"zoom-enabled":t.zoomEnabled,"node-color":t.nodeColor,"node-pulsable":t.nodePulsable,"node-deletable":t.nodeDeletable,"node-pulse-color":t.nodePulseColor,"before-delete-node":t.beforeDeleteNode,"before-delete-link":t.beforeDeleteLink,"port-disabled":t.portDisabled,"port-available":t.portAvailable,pan:t.pan,"prevent-mouse-events-default":t.preventMouseEventsDefault},on:{"select-node":function(e){return t.$emit("select-node",e)},"deleted-node":function(e){return t.$emit("deleted-node",e)},"deleted-link":function(e){return t.$emit("deleted-link",e)},"updated-node":function(e){return t.$emit("updated-node",e)},"click-port":function(e){return t.$emit("click-port",e)},"created-link":function(e){return t.$emit("created-link",e)}},scopedSlots:t._u([{key:"default",fn:function(e){return[t._t("node",null,null,e)]}}],null,!0)})],1)};o._withStripped=!0;var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{ref:"diagramRoot",staticClass:"diagram-editor__svg-content",attrs:{id:"diagram-root-"+t.uniqId,version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+t.width/1.2+" "+t.height/1.2,width:t.width,height:t.height,preserveAspectRatio:"xMinYMin meet"}},[n("g",{ref:"viewPort",staticClass:"svg-pan-zoom_viewport",attrs:{x:"50",y:"50"}},[n("defs",[n("pattern",{attrs:{id:"diagram-small-grid-"+t.uniqId,width:"16",height:"16",patternUnits:"userSpaceOnUse"}},[n("path",{attrs:{d:"M 16 0 L 0 0 0 16",fill:"none",stroke:"#ccc","stroke-width":"0.5"}})]),n("pattern",{attrs:{id:"diagram-grid-"+t.uniqId,width:"80",height:"80",patternUnits:"userSpaceOnUse"}},[n("rect",{attrs:{width:"80",height:"80",fill:"url(#diagram-small-grid-"+t.uniqId+")"}}),n("path",{attrs:{d:"M 80 0 L 0 0 0 80",fill:"none",stroke:"#ccc","stroke-width":"1"}})])]),n("rect",{ref:"grid",attrs:{x:"-5000px",y:"-5000px",width:"10000px",height:"10000px",fill:"url(#diagram-grid-"+t.uniqId+")"},on:{mousedown:t.clearSelection}}),t._l(t.links,(function(e){return n("DiagramLink",{key:e.id,attrs:{id:e.id,link:e,"node-start":t.nodes[e.start_id],"node-end":t.nodes[e.end_id],selected:t.selectedLink===e.id},on:{mousedown:function(n){return t.selectLink(e.id)}}})})),t._l(t.nodes,(function(e){return n("DiagramNode",{key:e.id,attrs:{node:e,color:t.nodeColor,"pulse-color":t.nodePulseColor,pulsable:t.nodePulsable,deletable:t.nodeDeletable,dragging:t.draggedNode===e.id,selected:t.selectedNode===e.id,"port-disabled":t.portDisabled,"port-available":t.portAvailable,"active-port":t.activePort,"hovered-port":t.hoveredPort},on:{delete:t.deleteNode,"drag-start":t.onNodeDragStart,"resize-start":t.onNodeResizeStart,"hovered-port":t.setHoveredPort,"active-port":t.setActivePort},scopedSlots:t._u([{key:"default",fn:function(n){return[t._t("default",null,{node:e},n)]}}],null,!0)})})),t.newLink?n("line",{staticStyle:{stroke:"rgb(255,0,0)","stroke-width":"2"},attrs:{x1:t.newLink.x1,y1:t.newLink.y1,x2:t.newLink.x2,y2:t.newLink.y2,"pointer-events":"none"}}):t._e()],2)])};r._withStripped=!0;var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",{attrs:{id:t.node.id}},[t.pulsable(t.node)?n("rect",{staticClass:"diagram--editor__pulse",attrs:{fill:t.pulseColor(t.node),stroke:t.pulseColor(t.node),x:t.node.x,y:t.node.y,rx:"3",ry:"3",width:t.node.width,height:t.node.height}}):t._e(),n("rect",{attrs:{fill:t.color(t.node),stroke:"#000000","stroke-width":t.selected?1:0,x:t.node.x,y:t.node.y,rx:"3",ry:"3",width:t.node.width,height:t.node.height}}),n("DiagramNodeTitle",{attrs:{x:t.node.x+2,y:t.node.y+2,width:t.node.size.width-4,title:t.node.title,dragging:t.dragging,deletable:t.nodeDeletable},on:{delete:t.deleteNode},nativeOn:{mousedown:function(e){return e.stopPropagation(),t.onDragStart(e)}}}),n("rect",{staticClass:"node-light-background",attrs:{fill:"#ffffff",x:t.node.x+2,y:t.node.y+20,rx:"3",ry:"3",width:t.node.width-4,height:t.node.height-22}}),n("foreignObject",{attrs:{x:t.node.x+2,y:t.node.y+20,width:t.slotWidth,height:t.slotHeight}},[n("body",{staticClass:"diagram-editor__node-body",attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[t._t("default",null,{width:t.slotWidth,height:t.slotHeight})],2)]),n("svg",{attrs:{x:t.node.x-4,y:t.node.y+t.node.height-t.portsHeight-2,width:t.node.width+8,height:t.portsHeight}},[t._l(t.portsIn,(function(e,o){var r=e[0],i=e[1];return n("DiagramPort",{key:t.node.id+"_in_"+r,attrs:{id:t.node.id+"_in_"+r,title:i,width:o+1>t.portsOut.length?t.node.width:t.node.width/2,x:0,y:18*o,disabled:t.portsInDisabled[r],available:t.portsInAvailable[r],hovered:t.isHoveredPort("in",r),align:"start"},on:{mousedown:function(e){return t.mouseDownPort("in",r,e)},mouseenter:function(e){return t.mouseEnterPort("in",r,e)},mouseleave:function(e){return t.mouseLeavePort("in",r,e)}}})})),t._l(t.portsOut,(function(e,o){var r=e[0],i=e[1];return n("DiagramPort",{key:t.node.id+"_out_"+r,attrs:{id:t.node.id+"_out_"+r,title:i,width:t.node.width+8,x:0,y:18*o,disabled:t.portsOutDisabled[r],available:t.portsOutAvailable[r],hovered:t.isHoveredPort("out",r),align:"end"},on:{mousedown:function(e){return t.mouseDownPort("out",r,e)},mouseenter:function(e){return t.mouseEnterPort("out",r,e)},mouseleave:function(e){return t.mouseLeavePort("out",r,e)}}})}))],2),n("svg",{attrs:{width:"10",height:"10",x:t.node.x+t.node.width-10,y:t.node.y+t.node.height-10},on:{mousedown:t.onResizeStart}},[n("path",{staticStyle:{cursor:"nwse-resize"},attrs:{d:"M 0,10 10,0 v 10 z",fill:"#000"}})])],1)};function s(t){var e=new Error(t);return e.source="ulid",e}i._withStripped=!0;var a="0123456789ABCDEFGHJKMNPQRSTVWXYZ",u=a.length,c=Math.pow(2,48)-1;function l(t){var e=Math.floor(t()*u);return e===u&&(e=u-1),a.charAt(e)}function d(t,e){if(isNaN(t))throw new Error(t+" must be a number");if(t>c)throw s("cannot encode time greater than "+c);if(t<0)throw s("time must be positive");if(!1===Number.isInteger(t))throw s("time must be an integer");for(var n=void 0,o="";e>0;e--)o=a.charAt(n=t%u)+o,t=(t-n)/u;return o}function h(t,e){for(var n="";t>0;t--)n=l(e)+n;return n}function p(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments[1];e||(e="undefined"!=typeof window?window:null);var o=e&&(e.crypto||e.msCrypto);if(o)return function(){var t=new Uint8Array(1);return o.getRandomValues(t),t[0]/255};try{var r=n(51);return function(){return r.randomBytes(1).readUInt8()/255}}catch(t){}if(t){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch(t){}return function(){return Math.random()}}throw s("secure crypto unusable, insecure Math.random not allowed")}var f,v=(f||(f=p()),function(t){return isNaN(t)&&(t=Date.now()),d(t,10)+h(16,f)});function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function t(e){var n=e.x,o=void 0===n?10:n,r=e.y,i=void 0===r?10:r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,"x",null),m(this,"y",null),this.x=Number(o),this.y=Number(i)};function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function t(e){var n=e.width,o=void 0===n?150:n,r=e.height,i=void 0===r?150:r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,"width",null),b(this,"height",null),this.width=Number(o),this.height=Number(i)};function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function x(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,"id",null),_(this,"title",null),_(this,"size",null),_(this,"coordinates",null),_(this,"data",{}),_(this,"portsIn",{}),_(this,"portsOut",{}),this.id=t.prepareProp("id",e.id),this.title=e.title,this.coordinates=t.prepareProp("coordinates",e.coordinates),this.size=t.prepareProp("size",e.size),this.data=t.prepareProp("data",e.data),this.portsIn=t.prepareProp("portsIn",e.portsIn),this.portsOut=t.prepareProp("portsOut",e.portsOut)}var e,n,o;return e=t,o=[{key:"prepareProp",value:function(t,e){switch(t){case"id":return e||v();case"coordinates":return new g(e||{});case"size":return new y(e||{});case"portsIn":case"portsOut":return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e||{});case"data":return e||{};default:return e}}},{key:"intersect",value:function(t,e){return!(t.x>e.x1||e.x>t.x1||t.y>e.y1||e.y>t.y1)}}],(n=[{key:"portsHeight",get:function(){return Math.max(Object.keys(this.portsIn).length,Object.keys(this.portsOut).length)*t.PORT_HEIGHT}},{key:"width",get:function(){return this.size.width}},{key:"height",get:function(){return this.size.height}},{key:"x",get:function(){return this.coordinates.x}},{key:"y",get:function(){return this.coordinates.y}},{key:"x1",get:function(){return this.coordinates.x+this.size.width}},{key:"y1",get:function(){return this.coordinates.y+this.size.height}},{key:"getPortCoordinates",value:function(e,n){if(!["in","out"].includes(e))throw new Error("Undefined port type "+e);var o=Object.keys("in"===e?this.portsIn:this.portsOut).findIndex((function(t){return t===n}));if(-1===o)throw new Error('"'.concat(e,'" port with name "').concat(n,'" is undefined!'));return{x:this.x+("out"===e?this.width:1),y:this.y+this.height-(this.portsHeight-2)+o*t.PORT_HEIGHT+1}}}])&&x(e.prototype,n),o&&x(e,o),t}();_(P,"PORT_HEIGHT",18);var j=function(t,e){var n=e._c;return n("svg",{attrs:{x:e.props.x,y:e.props.y,width:e.props.width,height:"16"}},[n("rect",e._g({attrs:{fill:e.$options.fill(e.props.available,e.props.hovered),x:"start"===e.props.align?0:e.props.width-10,y:"0",rx:"5",ry:"5",cursor:e.props.disabled?"default":"pointer",width:"10",height:"10"}},e.listeners)),n("text",{attrs:{x:"start"===e.props.align?12:e.props.width-12,y:"9","font-size":"8pt","text-anchor":e.props.align}},[e._v("\n    "+e._s(e.props.title)+"\n  ")])])};j._withStripped=!0;function S(t,e,n,o,r,i,s,a){var u,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),o&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=u):r&&(u=a?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(t,e){return u.call(e),l(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,u):[u]}return{exports:t,options:c}}var O=S({fill:function(t,e){return t?e?"#04ff00":"#f00":e?"#888":"#444"}},j,[],!0,null,null,null);O.options.__file="src/components/DiagramPort.vue";var z=O.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{style:{cursor:t.dragging?"grabbing":"grab"},attrs:{x:t.x,y:t.y,width:t.width,height:"16"},on:{mouseenter:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[n("rect",{attrs:{fill:"#000","fill-opacity":t.titleFillOpacity,x:"0",y:"0",rx:"3",ry:"3",width:t.width,height:"16"}}),n("svg",{attrs:{x:"0",y:"0",width:t.deletable?t.width-17:t.width,height:"16"}},[n("title",[t._v(t._s(t.title))]),n("text",{attrs:{x:"2",y:"13","font-size":"15","font-weight":"normal",fill:"#fff"}},[t._v(t._s(t.title))])]),t.deletable?n("svg",{staticClass:"diagram-editor__delete",attrs:{x:t.width-15,y:"1",width:"14",height:"14"},on:{click:function(e){return t.$emit("delete")}}},[n("rect",{attrs:{x:"0",y:"0",width:"14",height:"14",rx:"2",ry:"2"}}),n("line",{attrs:{x1:1,y1:1,x2:13,y2:13}}),n("line",{attrs:{x1:13,y1:1,x2:1,y2:13}})]):t._e()])};E._withStripped=!0;var M=S({name:"DiagramNodeTitle",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},width:{type:Number,required:!0},title:{type:String,required:!0},deletable:{type:Boolean,default:!0},dragging:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{titleFillOpacity:function(){return this.hover?.7:.5}}},E,[],!1,null,null,null);M.options.__file="src/components/DiagramNodeTitle.vue";var C=M.exports,D=n(5),k=n.n(D);function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){Z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var B=S({name:"DiagramNode",components:{DiagramNodeTitle:C,DiagramPort:z},props:{node:{type:P,required:!0},color:{type:Function,required:!0},pulseColor:{type:Function,required:!0},pulsable:{type:Function,required:!0},portDisabled:{type:Function,required:!0},portAvailable:{type:Function,required:!0},deletable:{type:Function,required:!0},activePort:{type:Object,default:null},hoveredPort:{type:Object,default:null},selected:{type:Boolean,default:!1},dragging:{type:Boolean,default:!1}},data:function(){return{nodeStrokeWidth:0,titleFillOpacity:.25}},computed:{portsIn:function(){return Object.entries(this.node.portsIn)},portsOut:function(){return Object.entries(this.node.portsOut)},portsInDisabled:function(){var t=this;return Object.keys(this.node.portsIn).reduce((function(e,n){return A(A({},e),{},Z({},n,t.portDisabled({id:t.node.id,type:"in",port:n})))}),{})},portsOutDisabled:function(){var t=this;return Object.keys(this.node.portsOut).reduce((function(e,n){return A(A({},e),{},Z({},n,t.portDisabled({id:t.node.id,type:"out",port:n})))}),{})},portsInAvailable:function(){var t=this;return Object.keys(this.node.portsIn).reduce((function(e,n){return A(A({},e),{},Z({},n,t.activePort&&t.isAvailablePort("in",n)))}),{})},portsOutAvailable:function(){var t=this;return Object.keys(this.node.portsOut).reduce((function(e,n){return A(A({},e),{},Z({},n,t.activePort&&t.isAvailablePort("out",n)))}),{})},portsHeight:function(){return this.node.portsHeight},slotWidth:function(){return this.node.size.width-4},slotHeight:function(){return this.node.size.height-22},nodeDeletable:function(){return this.deletable(this.node)}},methods:{isAvailablePort:function(t,e){var n={id:this.node.id,type:t,port:e},o=A({},this.activePort),r=this.hoveredPort?A({},this.hoveredPort):null;return!(!!r&&k()(o,r))&&!k()(o,n)&&this.portAvailable(A(A({},n),{},{activePort:A({},this.activePort)}))},deleteNode:function(){this.$emit("delete",this.node.id)},onDragStart:function(t){this.$emit("drag-start",{node:this.node,eX:t.x,eY:t.y})},onResizeStart:function(t){this.$emit("resize-start",{node:this.node,eX:t.x,eY:t.y})},isHoveredPort:function(t,e){return this.hoveredPort&&this.node.id===this.hoveredPort.id&&e===this.hoveredPort.port&&t===this.hoveredPort.type},mouseDownPort:function(t,e){("in"===t?this.portsInDisabled[e]:this.portsOutDisabled[e])||this.$emit("active-port",{id:this.node.id,port:e,type:t})},mouseEnterPort:function(t,e){this.$emit("hovered-port",{id:this.node.id,port:e,type:t})},mouseLeavePort:function(){this.$emit("hovered-port",null)}}},i,[],!1,null,null,null);B.options.__file="src/components/DiagramNode.vue";var T=B.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",{on:{mouseenter:function(e){t.hovered=!0},mouseleave:function(e){t.hovered=!1},mousedown:function(e){return t.$emit("mousedown",e)}}},[n("path",{style:t.largeStrokeStyle,attrs:{d:t.curve,"stroke-width":"8",fill:"none"}}),n("path",{staticStyle:{stroke:"rgb(0,0,0)"},attrs:{d:t.curve,"stroke-width":"2",fill:"none"}})])};function L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}I._withStripped=!0;var q=function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),L(this,"id",null),L(this,"start_id",null),L(this,"start_port",null),L(this,"end_id",null),L(this,"end_port",null),this.id=e.id||v(),!e.start_id)throw new Error("start_id is empty!");if(this.start_id=e.start_id,this.start_port=e.start_port||"default",!e.end_id)throw new Error("end_id is empty!");this.end_id=e.end_id,this.end_port=e.end_port||"default"},$=S({name:"DiagramLink",props:{link:{type:q,required:!0},nodeStart:{type:P,required:!0},nodeEnd:{type:P,required:!0},selected:{type:Boolean,default:!1}},data:function(){return{hovered:!1}},computed:{startCoordinates:function(){return this.nodeStart.getPortCoordinates("out",this.link.start_port)},endCoordinates:function(){return this.nodeEnd.getPortCoordinates("in",this.link.end_port)},x1:function(){return this.startCoordinates.x-2},y1:function(){return this.startCoordinates.y},x2:function(){return this.endCoordinates.x+1},y2:function(){return this.endCoordinates.y},curve:function(){var t=Math.trunc(this.x1),e=Math.trunc(this.y1),n=Math.trunc(this.x2),o=Math.trunc(this.y2),r=Math.trunc(4*Math.sqrt(Math.abs(t-n)))+10;return"M".concat(t,",").concat(e," C").concat(t+r,",").concat(e," ").concat(n-r,",").concat(o," ").concat(n,",").concat(o)},largeStrokeStyle:function(){return this.selected?this.hovered?"stroke:rgba(0,0,255,0.6);":"stroke:rgba(0,0,255,0.4);":this.hovered?"stroke:rgba(255,0,0,0.5);":"stroke:rgba(255,0,0,0.0);"}}},I,[],!1,null,null,null);$.options.__file="src/components/DiagramLink.vue";var V=$.exports,R=n(2),F=n.n(R),W=function(t,e){return e*Math.round(t/e)},U=n(28),H=n.n(U);function X(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?X(Object(n),!0).forEach((function(e){G(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function G(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var K=n(49),J=n.n(K),Q=S({name:"DiagramRoot",components:{DiagramNode:T,DiagramLink:V},mixins:[{data:function(){return{nodes:{},links:{},draggedNode:null,resizedNode:null,selectedNode:null,selectedLink:null,initialCursorOffset:{x:0,y:0},activePort:null,hoveredPort:null,nodeCoordinatesBeforeDrag:{x:0,y:0},nodeSizeBeforeResize:{width:0,height:0},currentCursorPos:null}},computed:{newLink:function(){if(!this.activePort||null===this.currentCursorPos)return null;var t=this.activePort,e=t.id,n=t.type,o=t.port,r=this.nodes[e].getPortCoordinates(n,o);return{x1:r.x,y1:r.y,x2:this.currentCursorPos.x,y2:this.currentCursorPos.y}}},watch:{selectedNode:function(t){t&&this.$emit("select-node",t)},draggedNode:function(t){if(t){var e=this.nodes[t];this.nodeCoordinatesBeforeDrag=Y({},e.coordinates)}this.toggleMoveEventListener(null!==t)},resizedNode:function(t){if(t){var e=this.nodes[t];this.nodeSizeBeforeResize=Y({},e.size)}this.toggleMoveEventListener(null!==t)},activePort:function(t){this.toggleMoveEventListener(null!==t)}},methods:{setModel:function(t){this.nodes=Object.values(t.nodes||[]).reduce((function(t,e){var n=new P(e);return Y(Y({},t),{},G({},n.id,n))}),{}),this.links=Object.values(t.links||[]).reduce((function(t,e){var n=new q(e);return Y(Y({},t),{},G({},n.id,n))}),{})},beforePan:function(){return this.pan&&!(this.draggedNode||this.resizedNode||this.activePort)},addNode:function(t){var e=new P(t);F.a.set(this.nodes,e.id,e)},addLink:function(t){var e=new q(t);F.a.set(this.links,e.id,e)},deleteNode:function(t){var e=this.nodes[t];if(!1!==this.beforeDeleteNode(e)){for(var n in F.a.delete(this.nodes,t),this.links)if(this.links.hasOwnProperty(n)){var o=this.links[n];o.start_id!==t&&o.end_id!==t||F.a.delete(this.links,n)}this.$emit("deleted-node",t)}},deleteLink:function(t){!1!==this.beforeDeleteLink(this.links[t])&&(F.a.delete(this.links,t),this.$emit("deleted-link",t))},selectLink:function(t){this.selectedLink=t},clearSelection:function(){this.selectedNode=null,this.selectedLink=null},toggleMoveEventListener:function(t){t?(document.body.addEventListener("mousemove",this.mouseMove),document.body.addEventListener("mouseup",this.mouseUp)):(document.body.removeEventListener("mousemove",this.mouseMove),document.body.removeEventListener("mouseup",this.mouseUp))},mouseMove:function(t){if(this.draggedNode||this.resizedNode)this.dragMove({gridSnap:this.gridSnap,x:t.x,y:t.y});else if(this.activePort){var e=this.convertXYtoViewPort(t.pageX,t.pageY),n=e.x,o=e.y;this.currentCursorPos={x:n,y:o}}},mouseUp:function(){if(this.draggedNode||this.resizedNode){var t=this.draggedNode||this.resizedNode,e=t?this.nodes[t]:null,n=!!this.draggedNode,o=this.draggedNode&&!k()(Y({},e.coordinates),Y({},this.nodeCoordinatesBeforeDrag))||this.resizedNode&&!k()(Y({},e.size),Y({},this.nodeSizeBeforeResize));this.dragEnd(),o?this.$emit("updated-node",e):n&&(this.selectedNode=t)}else if(this.activePort){var r=Y({},this.activePort);if(this.hoveredPort){var i=Y({},this.hoveredPort);if(k()(r,i))this.$emit("click-port",r);else if(this.portAvailable(Y(Y({},i),{},{activePort:r}))){var s=new q({start_id:r.id,start_port:r.port,end_id:i.id,end_port:i.port});F.a.set(this.links,s.id,s),this.$emit("created-link",s)}}this.activePort=null,this.currentCursorPos=null}},serialize:function(){return{nodes:Object.values(this.nodes).map((function(t){return H()(t)})),links:Object.values(this.links).map((function(t){return H()(t)}))}},dragStart:function(t){var e=t.id,n=t.offset,o=t.type;"drag"===o?(this.draggedNode=e,this.resizedNode=null):"resize"===o&&(this.draggedNode=null,this.resizedNode=e),this.initialCursorOffset=n},dragMove:function(t){var e=this,n=t.gridSnap,o=t.x,r=t.y,i=function(t,o){var r=e.convertXYtoViewPort(t,o),i=r.x,s=r.y;return i=W(i,n)-n/2,s=W(s,n),{x:i-=e.initialCursorOffset.x,y:s-=e.initialCursorOffset.y}};if(this.draggedNode&&this.updateNode({id:this.draggedNode,name:"coordinates",value:new g(i(o,r))}),this.resizedNode){var s=this.nodes[this.resizedNode],a=i(o,r),u=new y({width:Math.abs(a.x-s.coordinates.x),height:Math.abs(a.y-s.coordinates.y)});u.width<30&&(u.width=30),u.height<30&&(u.height=30),this.updateNode({id:this.resizedNode,name:"size",value:u})}},dragEnd:function(){this.draggedNode=null,this.resizedNode=null},updateNode:function(t){var e=t.id,n=t.name,o=t.value;F.a.set(this.nodes[e],n,P.prepareProp(n,o))}}},{data:function(){return{spz:null}},mounted:function(){var t=this;this.spz=J()(this.$refs.diagramRoot,{viewportSelector:this.$refs.viewPort,center:!1,preventMouseEventsDefault:this.preventMouseEventsDefault,beforePan:this.beforePan,beforeZoom:function(){return t.zoomEnabled}})},beforeDestroy:function(){this.spz&&this.spz.destroy()},methods:{enableDblClickZoom:function(){if(this.spz)return this.spz.enableDblClickZoom()},disableDblClickZoom:function(){if(this.spz)return this.spz.disableDblClickZoom()},isDblClickZoomEnabled:function(){if(this.spz)return this.spz.isDblClickZoomEnabled()},enableMouseWheelZoom:function(){if(this.spz)return this.spz.enableMouseWheelZoom()},disableMouseWheelZoom:function(){if(this.spz)return this.spz.disableMouseWheelZoom()},isMouseWheelZoomEnabled:function(){if(this.spz)return this.spz.isMouseWheelZoomEnabled()},resetZoom:function(){if(this.spz)return this.spz.resetZoom()},updateBBox:function(){if(this.spz)return this.spz.updateBBox()},fit:function(){if(this.spz)return this.spz.fit()},contain:function(){if(this.spz)return this.spz.contain()},center:function(){if(this.spz)return this.spz.center()}}}],props:{width:{type:Number,default:0},height:{type:Number,required:!0},gridSnap:{type:Number,required:!0},zoomEnabled:{type:Boolean,required:!0},nodeColor:{type:Function,required:!0},nodePulseColor:{type:Function,required:!0},nodePulsable:{type:Function,required:!0},nodeDeletable:{type:Function,required:!0},beforeDeleteNode:{type:Function,required:!0},beforeDeleteLink:{type:Function,required:!0},portDisabled:{type:Function,required:!0},portAvailable:{type:Function,required:!0},pan:{type:Boolean,required:!0},preventMouseEventsDefault:{type:Boolean,default:!0}},computed:{uniqId:function(){return v()}},mounted:function(){document.addEventListener("keydown",this.keyDownHandler)},beforeDestroy:function(){document.removeEventListener("keydown",this.keyDownHandler)},methods:{keyDownHandler:function(t){46===t.keyCode&&(this.selectedNode&&this.nodeDeletable(this.nodes[this.selectedNode])&&this.deleteNode(this.selectedNode),this.selectedLink&&this.deleteLink(this.selectedLink)),27===t.keyCode&&this.clearSelection()},convertXYtoViewPort:function(t,e){var n,o,r,i,s,a=this.$refs.diagramRoot,u=this.$refs.viewPort,c=a.createSVGPoint(),l=(n=a,o=document.documentElement,r=n.getBoundingClientRect(),i=o.scrollLeft,s=o.scrollTop,{x:r.left+i,y:r.top+s});c.x=t-l.x,c.y=e-l.y;var d=u.getCTM().inverse();return c.matrixTransform(d)},onNodeDragStart:function(t){var e=t.node,n=t.eX,o=t.eY,r=this.convertXYtoViewPort(n,o),i=r.x,s=r.y;this.dragStart({type:"drag",id:e.id,offset:{x:Math.round(i-e.x),y:Math.round(s-e.y)}})},onNodeResizeStart:function(t){var e=t.node,n=t.eX,o=t.eY,r=this.convertXYtoViewPort(n,o),i=r.x,s=r.y;this.dragStart({type:"resize",id:e.id,offset:{x:-Math.round(e.x+e.width-i),y:-Math.round(e.y+e.height-s)}})},setActivePort:function(t){this.activePort=t},setHoveredPort:function(t){this.hoveredPort=t}}},r,[],!1,null,null,null);Q.options.__file="src/components/DiagramRoot.vue";var tt=Q.exports,et=n(50),nt=S({name:"Diagram",components:{DiagramRoot:tt},props:{height:{type:Number,default:500},gridSnap:{type:Number,default:1},zoomEnabled:{type:Boolean,default:!0},nodeColor:{type:Function,default:function(){return"#66cc00"}},nodePulseColor:{type:Function,default:function(){return"#f00"}},nodePulsable:{type:Function,default:function(){return!1}},nodeDeletable:{type:Function,default:function(){return!0}},beforeDeleteNode:{type:Function,default:function(){return!0}},beforeDeleteLink:{type:Function,default:function(){return!0}},portDisabled:{type:Function,default:function(){return!1}},portAvailable:{type:Function,default:function(){return!0}},pan:{type:Boolean,default:!0},preventMouseEventsDefault:{type:Boolean,default:!0}},data:function(){return{width:null}},mounted:function(){window.addEventListener("resize",this.updateWrapperWidth),this.updateWrapperWidth()},beforeDestroy:function(){window.removeEventListener("resize",this.updateWrapperWidth)},methods:{updateWrapperWidth:n.n(et)()((function(){var t=this.$el.getBoundingClientRect().width;this.width=t}),100),setModel:function(t){this.$refs.diagram.setModel(t)},serialize:function(){return this.$refs.diagram.serialize()},addNode:function(t){this.$refs.diagram.addNode(t)},addLink:function(t){this.$refs.diagram.addLink(t)},updateNode:function(t){var e=t.id,n=t.name,o=t.value;this.$refs.diagram.updateNode({id:e,name:n,value:o})},deleteNode:function(t){this.$refs.diagram.deleteNode(t)},deleteLink:function(t){this.$refs.diagram.deleteLink(t)},enableDblClickZoom:function(){return this.$refs.diagram.enableDblClickZoom()},disableDblClickZoom:function(){return this.$refs.diagram.disableDblClickZoom()},isDblClickZoomEnabled:function(){return this.$refs.diagram.isDblClickZoomEnabled()},enableMouseWheelZoom:function(){return this.$refs.diagram.enableMouseWheelZoom()},disableMouseWheelZoom:function(){return this.$refs.diagram.disableMouseWheelZoom()},isMouseWheelZoomEnabled:function(){return this.$refs.diagram.isMouseWheelZoomEnabled()},resetZoom:function(){return this.$refs.diagram.resetZoom()},updateBBox:function(){return this.$refs.diagram.updateBBox()},fit:function(){return this.$refs.diagram.fit()},contain:function(){return this.$refs.diagram.contain()},center:function(){return this.$refs.diagram.center()}}},o,[],!1,null,null,null);nt.options.__file="src/components/Diagram.vue";var ot=nt.exports;n(139),e.default=ot}])}));
//# sourceMappingURL=vue-diagram-editor.umd.min.js.map