{"version":3,"sources":["webpack://VueDiagramEditor/webpack/bootstrap","webpack://VueDiagramEditor/external \"ulid\"","webpack://VueDiagramEditor/external \"lodash/isEqual\"","webpack://VueDiagramEditor/external \"vue\"","webpack://VueDiagramEditor/external \"lodash/cloneDeep\"","webpack://VueDiagramEditor/external \"svg-pan-zoom\"","webpack://VueDiagramEditor/external \"lodash/throttle\"","webpack://VueDiagramEditor/./src/style.scss?95e1","webpack://VueDiagramEditor/./src/components/Diagram.vue?6eb8","webpack://VueDiagramEditor/./src/components/DiagramRoot.vue?8d28","webpack://VueDiagramEditor/./src/components/DiagramNode.vue?0de8","webpack://VueDiagramEditor/./src/models/Coordinates.js","webpack://VueDiagramEditor/./src/models/Size.js","webpack://VueDiagramEditor/./src/models/Node.js","webpack://VueDiagramEditor/./src/components/DiagramPort.vue?78d3","webpack://VueDiagramEditor/src/components/DiagramPort.vue","webpack://VueDiagramEditor/./src/components/DiagramPort.vue?854b","webpack://VueDiagramEditor/./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack://VueDiagramEditor/./src/components/DiagramPort.vue","webpack://VueDiagramEditor/./src/components/DiagramNodeTitle.vue?584f","webpack://VueDiagramEditor/src/components/DiagramNodeTitle.vue","webpack://VueDiagramEditor/./src/components/DiagramNodeTitle.vue?8bbe","webpack://VueDiagramEditor/./src/components/DiagramNodeTitle.vue","webpack://VueDiagramEditor/src/components/DiagramNode.vue","webpack://VueDiagramEditor/./src/components/DiagramNode.vue?cd2e","webpack://VueDiagramEditor/./src/components/DiagramNode.vue","webpack://VueDiagramEditor/./src/components/DiagramLink.vue?3191","webpack://VueDiagramEditor/./src/models/Link.js","webpack://VueDiagramEditor/src/components/DiagramLink.vue","webpack://VueDiagramEditor/./src/components/DiagramLink.vue?0fcb","webpack://VueDiagramEditor/./src/components/DiagramLink.vue","webpack://VueDiagramEditor/./src/helpers.js","webpack://VueDiagramEditor/./src/mixins/DiagramEditorMixin.js","webpack://VueDiagramEditor/./src/mixins/SvgPanZoomMixin.js","webpack://VueDiagramEditor/src/components/DiagramRoot.vue","webpack://VueDiagramEditor/./src/components/DiagramRoot.vue?587e","webpack://VueDiagramEditor/./src/components/DiagramRoot.vue","webpack://VueDiagramEditor/src/components/Diagram.vue","webpack://VueDiagramEditor/./src/components/Diagram.vue?9626","webpack://VueDiagramEditor/./src/components/Diagram.vue","webpack://VueDiagramEditor/./src/index.js"],"names":["Coordinates","x","y","Number","Size","width","height","getAbsoluteXY","element","viewportElement","document","documentElement","box","getBoundingClientRect","scrollLeft","scrollTop","left","top","snapToGrip","val","gridSize","Math","round","data","spz","mounted","svgPanZoom","$refs","diagramRoot","viewportSelector","viewPort","center","preventMouseEventsDefault","beforePan","beforeZoom","zoomEnabled","beforeDestroy","destroy","methods","enableDblClickZoom","disableDblClickZoom","isDblClickZoomEnabled","enableMouseWheelZoom","disableMouseWheelZoom","isMouseWheelZoomEnabled","resetZoom","updateBBox","fit","contain","Diagram"],"mappings":";;;;;;;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;AClFA,iC;;;;;;ACAA,2C;;;;;;ACAA,gC;;;;;;ACAA,6C;;;;;;ACAA,yC;;;;;;ACAA,4C;;;;;;ACAA,uC;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,yCAAyC;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;AChEA,IAAI,+CAAM;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,iBAAiB;AACjB,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,aAAa;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA;AACA,8BAA8B,8CAA8C;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,wDAAe;AACnB,+CAAM;;;;;;ACrKN,IAAI,+CAAM;AACV;AACA;AACA;AACA;AACA;AACA,KAAK,SAAS,kBAAkB,EAAE;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,aAAa,yBAAyB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB,aAAa;AACb;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,eAAe;AACf,SAAS;AACT;AACA;AACA,0BAA0B,wBAAwB;AAClD,oBAAoB;AACpB,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,wDAAe;AACnB,+CAAM;;;;;;;;;;;;;IC9LeA,W,GAIjB,2BAA8B;AAAA,oBAAjBC,CAAiB;AAAA,MAAjBA,CAAiB,uBAAb,EAAa;AAAA,oBAATC,CAAS;AAAA,MAATA,CAAS,uBAAL,EAAK;;AAAA;;AAAA,6BAH1B,IAG0B;;AAAA,6BAF1B,IAE0B;;AAC1B,OAAKD,CAAL,GAASE,MAAM,CAACF,CAAD,CAAf;AACA,OAAKC,CAAL,GAASC,MAAM,CAACD,CAAD,CAAf;AACH,C;;;;;;;;ICPgBE,I,GAQjB,oBAAyC;AAAA,wBAA5BC,KAA4B;AAAA,MAA5BA,KAA4B,2BAApB,GAAoB;AAAA,yBAAfC,MAAe;AAAA,MAAfA,MAAe,4BAAN,GAAM;;AAAA;;AAAA,qCAPjC,IAOiC;;AAAA,sCANhC,IAMgC;;AACrC,OAAKD,KAAL,GAAaF,MAAM,CAACE,KAAD,CAAnB;AACA,OAAKC,MAAL,GAAcH,MAAM,CAACG,MAAD,CAApB;AACH,C;;;;ACXL,0CAA0C,gCAAgC,oCAAoC,oDAAoD,8DAA8D,gEAAgE,EAAE,EAAE,gCAAgC,EAAE,aAAa;;AAEnV,gCAAgC,gBAAgB,sBAAsB,OAAO,uDAAuD,aAAa,uDAAuD,CAAC,mBAAe,2BAA2B,EAAE,EAAE,EAAE,6CAA6C,2EAA2E,EAAE,OAAO,iDAAiD,kFAAkF,EAAE,EAAE,EAAE,EAAE,eAAe;;AAEphB,SAAS,mBAAe,yBAAyB,0CAA0C,0DAA0D,EAAE;;AAEvJ,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE;;AAE3T,6DAA6D,sEAAsE,8DAA8D,oBAAoB;;AAErN,SAAS,mBAAe,mBAAmB,kBAAkB,kCAAkC,qEAAqE,EAAE,EAAE,OAAO,kBAAkB,EAAE,YAAY;;AAEnL;AACY;AACd;;AAE1B,IAAI,SAAI;AACR;AACA,IAAI,mBAAe;;AAEnB,IAAI,mBAAe;;AAEnB,IAAI,mBAAe;;AAEnB,IAAI,mBAAe;;AAEnB,IAAI,mBAAe;;AAEnB,IAAI,mBAAe,iBAAiB;;AAEpC,IAAI,mBAAe,oBAAoB;;AAEvC,IAAI,mBAAe,qBAAqB;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,0BAA0B,8BAAI;;AAE9B;AACA,qBAAqB,WAAW,YAAY;;AAE5C;AACA,qBAAqB,IAAI,YAAY;;AAErC;AACA;AACA,iCAAiC,aAAa;;AAE9C;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED,mBAAe,CAAC,SAAI;;;;AClIpB,IAAI,+DAAM;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,IAAI,wEAAe;AACnB,+DAAM;;;;;;ACvBN;AACA,MADA,gBACA,SADA,EACA,OADA,EACA;AACA;AACA;AACA;;AACA;AACA;AANA,G;;ACxBuN,CAAgB,sHAAG,EAAC,C;;ACA3O;;AAEA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;ACjG0G;AAC3C;AACL;;;AAG1D;AAC0F;AAC1F,gBAAgB,kBAAU;AAC1B,EAAE,8CAAM;AACR,EAAE,+DAAM;AACR,EAAE,wEAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,iE;;ACtCf,IAAI,oDAAM;AACV;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,6CAA6C;AAC3D,cAAc,qDAAqD;AACnE;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,uDAAuD;AAC7E;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,0BAA0B,SAAS,+BAA+B,EAAE;AACpE,0BAA0B,SAAS,+BAA+B,EAAE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,6DAAe;AACnB,oDAAM;;;;;;ACzCN;AACA,0BADA;AAEA;AACA;AACA,kBADA;AAEA;AAFA,KADA;AAKA;AACA,kBADA;AAEA;AAFA,KALA;AASA;AACA,kBADA;AAEA;AAFA,KATA;AAaA;AACA,kBADA;AAEA;AAFA,KAbA;AAiBA;AACA,mBADA;AAEA;AAFA,KAjBA;AAqBA;AACA,mBADA;AAEA;AAFA;AArBA,GAFA;AA4BA;AAAA;AACA;AADA;AAAA,GA5BA;AA+BA;AACA,oBADA,8BACA;AACA;AACA;AAHA;AA/BA,G;;ACjD4N,CAAgB,gIAAG,EAAC,C;;ACAjJ;AAC3B;AACL;;;AAG/D;AAC0F;AAC1F,IAAI,0BAAS,GAAG,kBAAU;AAC1B,EAAE,mDAAM;AACR,EAAE,oDAAM;AACR,EAAE,6DAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,6BAiBf;AACD,0BAAS;AACM,+EAAS,Q;;;;;;;;;;;;AC2DxB;AACA;AACA;AACA;AAEA;AACA,qBADA;AAGA;AACA,sCADA;AACA;AADA,GAHA;AAOA;AAC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AAQ,sBAAG;;AAEX;AACA;AACA;;AAEA;AACA,cAAc,sBAAG;AACjB;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA,QAAQ,sBAAG;AACX;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,gDAAgD,iBAAO,CAAC,+BAAa,GAAG,qBAAqB,+BAAa,GAAG,2DAA2D,iBAAO,CAAC,+BAAa,GAAG,cAAc,+BAAa,GAAG;AAC9N;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT,2BAA2B,+BAAa,GAAG;;AAE3C;AACA,8BAA8B,+BAAa,GAAG;;AAE9C,gBAAgB,iBAAO;AACvB;AACA,aAAa;AACb,qCAAqC,+BAAa,CAAC,+BAAa,GAAG,kBAAkB;AACrF;AACA,eAAe;AACf,+BAA+B,SAAI;AACnC;AACA;AACA;AACA;AACA,iBAAiB;AACjB,gBAAgB,sBAAG;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,mBAAmB,mBAAS;AAC5B,WAAW;AACX;AACA,mBAAmB,mBAAS;AAC5B,WAAW;AACX;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,cAAc,UAAU;AACxB,cAAc,UAAU;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,WAAW;AAClC,WAAW;AACX;;AAEA;AACA;AACA;AACA,yBAAyB,IAAI;AAC7B;AACA;AACA,WAAW;;AAEX;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;A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","file":"vue-diagram-editor.cjs.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","module.exports = require(\"ulid\");","module.exports = require(\"lodash/isEqual\");","module.exports = require(\"vue\");","module.exports = require(\"lodash/cloneDeep\");","module.exports = require(\"svg-pan-zoom\");","module.exports = require(\"lodash/throttle\");","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"diagram-editor__wrapper\" },\n    [\n      _c(\"DiagramRoot\", {\n        ref: \"diagram\",\n        attrs: {\n          width: _vm.width,\n          height: _vm.height,\n          \"grid-snap\": _vm.gridSnap,\n          \"zoom-enabled\": _vm.zoomEnabled,\n          \"node-color\": _vm.nodeColor,\n          \"node-pulsable\": _vm.nodePulsable,\n          \"node-deletable\": _vm.nodeDeletable,\n          \"node-pulse-color\": _vm.nodePulseColor,\n          \"before-delete-node\": _vm.beforeDeleteNode,\n          \"before-delete-link\": _vm.beforeDeleteLink,\n          \"port-disabled\": _vm.portDisabled,\n          \"port-available\": _vm.portAvailable,\n          pan: _vm.pan,\n          \"prevent-mouse-events-default\": _vm.preventMouseEventsDefault\n        },\n        on: {\n          \"select-node\": function($event) {\n            return _vm.$emit(\"select-node\", $event)\n          },\n          \"deleted-node\": function($event) {\n            return _vm.$emit(\"deleted-node\", $event)\n          },\n          \"deleted-link\": function($event) {\n            return _vm.$emit(\"deleted-link\", $event)\n          },\n          \"updated-node\": function($event) {\n            return _vm.$emit(\"updated-node\", $event)\n          },\n          \"click-port\": function($event) {\n            return _vm.$emit(\"click-port\", $event)\n          },\n          \"created-link\": function($event) {\n            return _vm.$emit(\"created-link\", $event)\n          }\n        },\n        scopedSlots: _vm._u(\n          [\n            {\n              key: \"default\",\n              fn: function(scopedParams) {\n                return [_vm._t(\"node\", null, null, scopedParams)]\n              }\n            }\n          ],\n          null,\n          true\n        )\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"svg\",\n    {\n      ref: \"diagramRoot\",\n      staticClass: \"diagram-editor__svg-content\",\n      attrs: {\n        id: \"diagram-root-\" + _vm.uniqId,\n        version: \"1.1\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        viewBox: \"0 0 \" + _vm.width / 1.2 + \" \" + _vm.height / 1.2,\n        width: _vm.width,\n        height: _vm.height,\n        preserveAspectRatio: \"xMinYMin meet\"\n      }\n    },\n    [\n      _c(\n        \"g\",\n        {\n          ref: \"viewPort\",\n          staticClass: \"svg-pan-zoom_viewport\",\n          attrs: { x: \"50\", y: \"50\" }\n        },\n        [\n          _c(\"defs\", [\n            _c(\n              \"pattern\",\n              {\n                attrs: {\n                  id: \"diagram-small-grid-\" + _vm.uniqId,\n                  width: \"16\",\n                  height: \"16\",\n                  patternUnits: \"userSpaceOnUse\"\n                }\n              },\n              [\n                _c(\"path\", {\n                  attrs: {\n                    d: \"M 16 0 L 0 0 0 16\",\n                    fill: \"none\",\n                    stroke: \"#ccc\",\n                    \"stroke-width\": \"0.5\"\n                  }\n                })\n              ]\n            ),\n            _c(\n              \"pattern\",\n              {\n                attrs: {\n                  id: \"diagram-grid-\" + _vm.uniqId,\n                  width: \"80\",\n                  height: \"80\",\n                  patternUnits: \"userSpaceOnUse\"\n                }\n              },\n              [\n                _c(\"rect\", {\n                  attrs: {\n                    width: \"80\",\n                    height: \"80\",\n                    fill: \"url(#diagram-small-grid-\" + _vm.uniqId + \")\"\n                  }\n                }),\n                _c(\"path\", {\n                  attrs: {\n                    d: \"M 80 0 L 0 0 0 80\",\n                    fill: \"none\",\n                    stroke: \"#ccc\",\n                    \"stroke-width\": \"1\"\n                  }\n                })\n              ]\n            )\n          ]),\n          _c(\"rect\", {\n            ref: \"grid\",\n            attrs: {\n              x: \"-5000px\",\n              y: \"-5000px\",\n              width: \"10000px\",\n              height: \"10000px\",\n              fill: \"url(#diagram-grid-\" + _vm.uniqId + \")\"\n            },\n            on: { mousedown: _vm.clearSelection }\n          }),\n          _vm._l(_vm.links, function(link) {\n            return _c(\"DiagramLink\", {\n              key: link.id,\n              attrs: {\n                id: link.id,\n                link: link,\n                \"node-start\": _vm.nodes[link.start_id],\n                \"node-end\": _vm.nodes[link.end_id],\n                selected: _vm.selectedLink === link.id\n              },\n              on: {\n                mousedown: function($event) {\n                  return _vm.selectLink(link.id)\n                }\n              }\n            })\n          }),\n          _vm._l(_vm.nodes, function(node) {\n            return _c(\"DiagramNode\", {\n              key: node.id,\n              attrs: {\n                node: node,\n                color: _vm.nodeColor,\n                \"pulse-color\": _vm.nodePulseColor,\n                pulsable: _vm.nodePulsable,\n                deletable: _vm.nodeDeletable,\n                dragging: _vm.draggedNode === node.id,\n                selected: _vm.selectedNode === node.id,\n                \"port-disabled\": _vm.portDisabled,\n                \"port-available\": _vm.portAvailable,\n                \"active-port\": _vm.activePort,\n                \"hovered-port\": _vm.hoveredPort\n              },\n              on: {\n                delete: _vm.deleteNode,\n                \"drag-start\": _vm.onNodeDragStart,\n                \"resize-start\": _vm.onNodeResizeStart,\n                \"hovered-port\": _vm.setHoveredPort,\n                \"active-port\": _vm.setActivePort\n              },\n              scopedSlots: _vm._u(\n                [\n                  {\n                    key: \"default\",\n                    fn: function(scopedParams) {\n                      return [\n                        _vm._t(\"default\", null, { node: node }, scopedParams)\n                      ]\n                    }\n                  }\n                ],\n                null,\n                true\n              )\n            })\n          }),\n          _vm.newLink\n            ? _c(\"line\", {\n                staticStyle: { stroke: \"rgb(255,0,0)\", \"stroke-width\": \"2\" },\n                attrs: {\n                  x1: _vm.newLink.x1,\n                  y1: _vm.newLink.y1,\n                  x2: _vm.newLink.x2,\n                  y2: _vm.newLink.y2,\n                  \"pointer-events\": \"none\"\n                }\n              })\n            : _vm._e()\n        ],\n        2\n      )\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"g\",\n    { attrs: { id: _vm.node.id } },\n    [\n      _vm.pulsable(_vm.node)\n        ? _c(\"rect\", {\n            staticClass: \"diagram--editor__pulse\",\n            attrs: {\n              fill: _vm.pulseColor(_vm.node),\n              stroke: _vm.pulseColor(_vm.node),\n              x: _vm.node.x,\n              y: _vm.node.y,\n              rx: \"3\",\n              ry: \"3\",\n              width: _vm.node.width,\n              height: _vm.node.height\n            }\n          })\n        : _vm._e(),\n      _c(\"rect\", {\n        attrs: {\n          fill: _vm.color(_vm.node),\n          stroke: \"#000000\",\n          \"stroke-width\": _vm.selected ? 1 : 0,\n          x: _vm.node.x,\n          y: _vm.node.y,\n          rx: \"3\",\n          ry: \"3\",\n          width: _vm.node.width,\n          height: _vm.node.height\n        }\n      }),\n      _c(\"DiagramNodeTitle\", {\n        attrs: {\n          x: _vm.node.x + 2,\n          y: _vm.node.y + 2,\n          width: _vm.node.size.width - 4,\n          title: _vm.node.title,\n          dragging: _vm.dragging,\n          deletable: _vm.nodeDeletable\n        },\n        on: { delete: _vm.deleteNode },\n        nativeOn: {\n          mousedown: function($event) {\n            $event.stopPropagation()\n            return _vm.onDragStart($event)\n          }\n        }\n      }),\n      _c(\"rect\", {\n        staticClass: \"node-light-background\",\n        attrs: {\n          fill: \"#ffffff\",\n          x: _vm.node.x + 2,\n          y: _vm.node.y + 20,\n          rx: \"3\",\n          ry: \"3\",\n          width: _vm.node.width - 4,\n          height: _vm.node.height - 22\n        }\n      }),\n      _c(\n        \"foreignObject\",\n        {\n          attrs: {\n            x: _vm.node.x + 2,\n            y: _vm.node.y + 20,\n            width: _vm.slotWidth,\n            height: _vm.slotHeight\n          }\n        },\n        [\n          _c(\n            \"body\",\n            {\n              staticClass: \"diagram-editor__node-body\",\n              attrs: { xmlns: \"http://www.w3.org/1999/xhtml\" }\n            },\n            [\n              _vm._t(\"default\", null, {\n                width: _vm.slotWidth,\n                height: _vm.slotHeight\n              })\n            ],\n            2\n          )\n        ]\n      ),\n      _c(\n        \"svg\",\n        {\n          attrs: {\n            x: _vm.node.x - 4,\n            y: _vm.node.y + _vm.node.height - _vm.portsHeight - 2,\n            width: _vm.node.width + 8,\n            height: _vm.portsHeight\n          }\n        },\n        [\n          _vm._l(_vm.portsIn, function(ref, portIndex) {\n            var port = ref[0]\n            var portTitle = ref[1]\n            return _c(\"DiagramPort\", {\n              key: _vm.node.id + \"_in_\" + port,\n              attrs: {\n                id: _vm.node.id + \"_in_\" + port,\n                title: portTitle,\n                width:\n                  portIndex + 1 > _vm.portsOut.length\n                    ? _vm.node.width\n                    : _vm.node.width / 2,\n                x: 0,\n                y: portIndex * 18,\n                disabled: _vm.portsInDisabled[port],\n                available: _vm.portsInAvailable[port],\n                hovered: _vm.isHoveredPort(\"in\", port),\n                align: \"start\"\n              },\n              on: {\n                mousedown: function($event) {\n                  return _vm.mouseDownPort(\"in\", port, $event)\n                },\n                mouseenter: function($event) {\n                  return _vm.mouseEnterPort(\"in\", port, $event)\n                },\n                mouseleave: function($event) {\n                  return _vm.mouseLeavePort(\"in\", port, $event)\n                }\n              }\n            })\n          }),\n          _vm._l(_vm.portsOut, function(ref, portIndex) {\n            var port = ref[0]\n            var portTitle = ref[1]\n            return _c(\"DiagramPort\", {\n              key: _vm.node.id + \"_out_\" + port,\n              attrs: {\n                id: _vm.node.id + \"_out_\" + port,\n                title: portTitle,\n                width: _vm.node.width + 8,\n                x: 0,\n                y: portIndex * 18,\n                disabled: _vm.portsOutDisabled[port],\n                available: _vm.portsOutAvailable[port],\n                hovered: _vm.isHoveredPort(\"out\", port),\n                align: \"end\"\n              },\n              on: {\n                mousedown: function($event) {\n                  return _vm.mouseDownPort(\"out\", port, $event)\n                },\n                mouseenter: function($event) {\n                  return _vm.mouseEnterPort(\"out\", port, $event)\n                },\n                mouseleave: function($event) {\n                  return _vm.mouseLeavePort(\"out\", port, $event)\n                }\n              }\n            })\n          })\n        ],\n        2\n      ),\n      _c(\n        \"svg\",\n        {\n          attrs: {\n            width: \"10\",\n            height: \"10\",\n            x: _vm.node.x + _vm.node.width - 10,\n            y: _vm.node.y + _vm.node.height - 10\n          },\n          on: { mousedown: _vm.onResizeStart }\n        },\n        [\n          _c(\"path\", {\n            staticStyle: { cursor: \"nwse-resize\" },\n            attrs: { d: \"M 0,10 10,0 v 10 z\", fill: \"#000\" }\n          })\n        ]\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","export default class Coordinates {\n    x = null;\n    y = null;\n\n    constructor({x = 10, y = 10}) {\n        this.x = Number(x);\n        this.y = Number(y);\n    }\n}\n","export default class Size {\n    width = null;\n    height = null;\n\n    /**\n     * @param {Number} width\n     * @param {Number} height\n     */\n    constructor({width = 150, height = 150}) {\n        this.width = Number(width);\n        this.height = Number(height);\n    }\n}\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { ulid } from 'ulid';\nimport Coordinates from './Coordinates';\nimport Size from './Size';\n\nvar Node = function () {\n  function Node(attr) {\n    _classCallCheck(this, Node);\n\n    _defineProperty(this, \"id\", null);\n\n    _defineProperty(this, \"title\", null);\n\n    _defineProperty(this, \"size\", null);\n\n    _defineProperty(this, \"coordinates\", null);\n\n    _defineProperty(this, \"data\", {});\n\n    _defineProperty(this, \"portsIn\", {});\n\n    _defineProperty(this, \"portsOut\", {});\n\n    this.id = Node.prepareProp('id', attr.id);\n    this.title = attr.title;\n    this.coordinates = Node.prepareProp('coordinates', attr.coordinates);\n    this.size = Node.prepareProp('size', attr.size);\n    this.data = Node.prepareProp('data', attr.data);\n    this.portsIn = Node.prepareProp('portsIn', attr.portsIn);\n    this.portsOut = Node.prepareProp('portsOut', attr.portsOut);\n  }\n\n  _createClass(Node, [{\n    key: \"portsHeight\",\n    get: function get() {\n      return Math.max(Object.keys(this.portsIn).length, Object.keys(this.portsOut).length) * Node.PORT_HEIGHT;\n    }\n  }, {\n    key: \"width\",\n    get: function get() {\n      return this.size.width;\n    }\n  }, {\n    key: \"height\",\n    get: function get() {\n      return this.size.height;\n    }\n  }, {\n    key: \"x\",\n    get: function get() {\n      return this.coordinates.x;\n    }\n  }, {\n    key: \"y\",\n    get: function get() {\n      return this.coordinates.y;\n    }\n  }, {\n    key: \"x1\",\n    get: function get() {\n      return this.coordinates.x + this.size.width;\n    }\n  }, {\n    key: \"y1\",\n    get: function get() {\n      return this.coordinates.y + this.size.height;\n    }\n  }, {\n    key: \"getPortCoordinates\",\n    value: function getPortCoordinates(type, name) {\n      if (!['in', 'out'].includes(type)) throw new Error('Undefined port type ' + type);\n      var ports = Object.keys(type === 'in' ? this.portsIn : this.portsOut);\n      var index = ports.findIndex(function (portName) {\n        return portName === name;\n      });\n\n      if (index === -1) {\n        throw new Error(\"\\\"\".concat(type, \"\\\" port with name \\\"\").concat(name, \"\\\" is undefined!\"));\n      }\n\n      return {\n        x: this.x + (type === 'out' ? this.width : 1),\n        y: this.y + this.height - (this.portsHeight - 2) + index * Node.PORT_HEIGHT + 1\n      };\n    }\n  }], [{\n    key: \"prepareProp\",\n    value: function prepareProp(name, value) {\n      switch (name) {\n        case 'id':\n          return value || ulid();\n\n        case 'coordinates':\n          return new Coordinates(value || {});\n\n        case 'size':\n          return new Size(value || {});\n\n        case 'portsIn':\n        case 'portsOut':\n          return _objectSpread({}, value || {});\n\n        case 'data':\n          return value || {};\n\n        default:\n          return value;\n      }\n    }\n  }, {\n    key: \"intersect\",\n    value: function intersect(a, b) {\n      return !(a.x > b.x1 || b.x > a.x1 || a.y > b.y1 || b.y > a.y1);\n    }\n  }]);\n\n  return Node;\n}();\n\n_defineProperty(Node, \"PORT_HEIGHT\", 18);\n\nexport { Node as default };","var render = function(_h, _vm) {\n  var _c = _vm._c\n  return _c(\n    \"svg\",\n    {\n      attrs: {\n        x: _vm.props.x,\n        y: _vm.props.y,\n        width: _vm.props.width,\n        height: \"16\"\n      }\n    },\n    [\n      _c(\n        \"rect\",\n        _vm._g(\n          {\n            attrs: {\n              fill: _vm.$options.fill(_vm.props.available, _vm.props.hovered),\n              x: _vm.props.align === \"start\" ? 0 : _vm.props.width - 10,\n              y: \"0\",\n              rx: \"5\",\n              ry: \"5\",\n              cursor: _vm.props.disabled ? \"default\" : \"pointer\",\n              width: \"10\",\n              height: \"10\"\n            }\n          },\n          _vm.listeners\n        )\n      ),\n      _c(\n        \"text\",\n        {\n          attrs: {\n            x: _vm.props.align === \"start\" ? 12 : _vm.props.width - 12,\n            y: \"9\",\n            \"font-size\": \"8pt\",\n            \"text-anchor\": _vm.props.align\n          }\n        },\n        [_vm._v(\"\\n    \" + _vm._s(_vm.props.title) + \"\\n  \")]\n      )\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template functional>\n  <svg :x=\"props.x\" :y=\"props.y\" :width=\"props.width\" height=\"16\">\n    <rect\n      :fill=\"$options.fill(props.available, props.hovered)\"\n      :x=\"props.align==='start' ? 0 : (props.width - 10)\"\n      y=\"0\"\n      rx=\"5\" ry=\"5\"\n      :cursor=\"props.disabled ? 'default' : 'pointer'\"\n      width=\"10\"\n      height=\"10\"\n      v-on=\"listeners\"\n    />\n    <text\n      :x=\"props.align==='start' ? 12 : (props.width - 12)\"\n      y=\"9\"\n      font-size=\"8pt\"\n      :text-anchor=\"props.align\"\n    >\n      {{ props.title }}\n    </text>\n  </svg>\n</template>\n\n<script>\nexport default {\n  fill(available, hovered) {\n    if (available) {\n      return hovered ? '#04ff00' : '#f00';\n    }\n    return hovered ? '#888' : '#444';\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiagramPort.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiagramPort.vue?vue&type=script&lang=js&\"","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","import { render, staticRenderFns } from \"./DiagramPort.vue?vue&type=template&id=561efff4&functional=true&\"\nimport script from \"./DiagramPort.vue?vue&type=script&lang=js&\"\nexport * from \"./DiagramPort.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/max/WORK/vue-diagram-editor/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('561efff4')) {\n      api.createRecord('561efff4', component.options)\n    } else {\n      api.rerender('561efff4', component.options)\n    }\n    module.hot.accept(\"./DiagramPort.vue?vue&type=template&id=561efff4&functional=true&\", function () {\n      api.rerender('561efff4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/DiagramPort.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"svg\",\n    {\n      style: { cursor: _vm.dragging ? \"grabbing\" : \"grab\" },\n      attrs: { x: _vm.x, y: _vm.y, width: _vm.width, height: \"16\" },\n      on: {\n        mouseenter: function($event) {\n          _vm.hover = true\n        },\n        mouseleave: function($event) {\n          _vm.hover = false\n        }\n      }\n    },\n    [\n      _c(\"rect\", {\n        attrs: {\n          fill: \"#000\",\n          \"fill-opacity\": _vm.titleFillOpacity,\n          x: \"0\",\n          y: \"0\",\n          rx: \"3\",\n          ry: \"3\",\n          width: _vm.width,\n          height: \"16\"\n        }\n      }),\n      _c(\n        \"svg\",\n        {\n          attrs: {\n            x: \"0\",\n            y: \"0\",\n            width: _vm.deletable ? _vm.width - 17 : _vm.width,\n            height: \"16\"\n          }\n        },\n        [\n          _c(\"title\", [_vm._v(_vm._s(_vm.title))]),\n          _c(\n            \"text\",\n            {\n              attrs: {\n                x: \"2\",\n                y: \"13\",\n                \"font-size\": \"15\",\n                \"font-weight\": \"normal\",\n                fill: \"#fff\"\n              }\n            },\n            [_vm._v(_vm._s(_vm.title))]\n          )\n        ]\n      ),\n      _vm.deletable\n        ? _c(\n            \"svg\",\n            {\n              staticClass: \"diagram-editor__delete\",\n              attrs: { x: _vm.width - 15, y: \"1\", width: \"14\", height: \"14\" },\n              on: {\n                click: function($event) {\n                  return _vm.$emit(\"delete\")\n                }\n              }\n            },\n            [\n              _c(\"rect\", {\n                attrs: {\n                  x: \"0\",\n                  y: \"0\",\n                  width: \"14\",\n                  height: \"14\",\n                  rx: \"2\",\n                  ry: \"2\"\n                }\n              }),\n              _c(\"line\", { attrs: { x1: 1, y1: 1, x2: 13, y2: 13 } }),\n              _c(\"line\", { attrs: { x1: 13, y1: 1, x2: 1, y2: 13 } })\n            ]\n          )\n        : _vm._e()\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\n  <svg\n    :x=\"x\" :y=\"y\"\n    :width=\"width\"\n    height=\"16\"\n    :style=\"{cursor: dragging?'grabbing':'grab'}\"\n    @mouseenter=\"hover=true\"\n    @mouseleave=\"hover=false\"\n  >\n    <rect\n      fill=\"#000\"\n      :fill-opacity=\"titleFillOpacity\"\n      x=\"0\" y=\"0\"\n      rx=\"3\" ry=\"3\"\n      :width=\"width\"\n      height=\"16\"\n    />\n    <svg x=\"0\" y=\"0\" :width=\"deletable ? width - 17 : width\" height=\"16\">\n      <title>{{ title }}</title>\n      <text x=\"2\" y=\"13\" font-size=\"15\" font-weight=\"normal\" fill=\"#fff\">{{ title }}</text>\n    </svg>\n\n    <svg\n      v-if=\"deletable\"\n      :x=\"width - 15\" y=\"1\"\n      width=\"14\" height=\"14\"\n      class=\"diagram-editor__delete\"\n      @click=\"$emit('delete')\"\n    >\n      <rect\n        x=\"0\"\n        y=\"0\"\n        width=\"14\"\n        height=\"14\"\n        rx=\"2\" ry=\"2\"\n      />\n      <line\n        :x1=\"1\" :y1=\"1\"\n        :x2=\"13\" :y2=\"13\"\n      />\n      <line\n        :x1=\"13\" :y1=\"1\"\n        :x2=\"1\" :y2=\"13\"\n      />\n    </svg>\n  </svg>\n</template>\n\n<script>\nexport default {\n  name: 'DiagramNodeTitle',\n  props: {\n    x: {\n      type: Number,\n      required: true\n    },\n    y: {\n      type: Number,\n      required: true\n    },\n    width: {\n      type: Number,\n      required: true\n    },\n    title: {\n      type: String,\n      required: true\n    },\n    deletable: {\n      type: Boolean,\n      default: true\n    },\n    dragging: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: () => ({\n    hover: false,\n  }),\n  computed: {\n    titleFillOpacity() {\n      return this.hover ? 0.7 : 0.5;\n    }\n  },\n};\n</script>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiagramNodeTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiagramNodeTitle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DiagramNodeTitle.vue?vue&type=template&id=51477eda&\"\nimport script from \"./DiagramNodeTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./DiagramNodeTitle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/max/WORK/vue-diagram-editor/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('51477eda')) {\n      api.createRecord('51477eda', component.options)\n    } else {\n      api.reload('51477eda', component.options)\n    }\n    module.hot.accept(\"./DiagramNodeTitle.vue?vue&type=template&id=51477eda&\", function () {\n      api.rerender('51477eda', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/DiagramNodeTitle.vue\"\nexport default component.exports","<template>\n  <g :id=\"node.id\">\n    <rect\n      v-if=\"pulsable(node)\"\n      class=\"diagram--editor__pulse\"\n      :fill=\"pulseColor(node)\"\n      :stroke=\"pulseColor(node)\"\n      :x=\"node.x\"\n      :y=\"node.y\"\n      rx=\"3\" ry=\"3\"\n      :width=\"node.width\"\n      :height=\"node.height\"\n    />\n    <rect\n      :fill=\"color(node)\"\n      stroke=\"#000000\"\n      :stroke-width=\"selected ? 1 : 0\"\n      :x=\"node.x\" :y=\"node.y\"\n      rx=\"3\" ry=\"3\"\n      :width=\"node.width\"\n      :height=\"node.height\"\n    />\n    <DiagramNodeTitle\n      :x=\"node.x + 2\"\n      :y=\"node.y + 2\"\n      :width=\"node.size.width - 4\"\n      :title=\"node.title\"\n      :dragging=\"dragging\"\n      :deletable=\"nodeDeletable\"\n      @mousedown.native.stop=\"onDragStart\"\n      @delete=\"deleteNode\"\n    />\n\n    <rect\n      fill=\"#ffffff\"\n      :x=\"node.x + 2\"\n      :y=\"node.y + 20\"\n      rx=\"3\" ry=\"3\"\n      :width=\"node.width - 4\"\n      :height=\"node.height - 22\"\n      class=\"node-light-background\"\n    />\n\n    <foreignObject :x=\"node.x + 2\" :y=\"node.y + 20\" :width=\"slotWidth\" :height=\"slotHeight\">\n      <body xmlns=\"http://www.w3.org/1999/xhtml\" class=\"diagram-editor__node-body\">\n        <slot :width=\"slotWidth\" :height=\"slotHeight\"/>\n      </body>\n    </foreignObject>\n\n    <svg :x=\"node.x - 4\"\n         :y=\"node.y + node.height - portsHeight - 2\"\n         :width=\"node.width + 8\"\n         :height=\"portsHeight\"\n    >\n      <DiagramPort\n        v-for=\"([port, portTitle], portIndex) in portsIn\"\n        :key=\"node.id+'_in_'+port\"\n        :id=\"node.id+'_in_'+port\"\n        :title=\"portTitle\"\n        :width=\"(portIndex + 1) > portsOut.length ? node.width : node.width / 2\"\n        :x=\"0\"\n        :y=\"portIndex * 18\"\n        :disabled=\"portsInDisabled[port]\"\n        :available=\"portsInAvailable[port]\"\n        :hovered=\"isHoveredPort('in', port)\"\n        align=\"start\"\n        @mousedown=\"mouseDownPort('in', port, $event)\"\n        @mouseenter=\"mouseEnterPort('in', port, $event)\"\n        @mouseleave=\"mouseLeavePort('in', port, $event)\"\n      />\n\n      <DiagramPort\n        v-for=\"([port, portTitle], portIndex) in portsOut\"\n        :key=\"node.id+'_out_'+port\"\n        :id=\"node.id+'_out_'+port\"\n        :title=\"portTitle\"\n        :width=\"node.width + 8\"\n        :x=\"0\"\n        :y=\"portIndex * 18\"\n        :disabled=\"portsOutDisabled[port]\"\n        :available=\"portsOutAvailable[port]\"\n        :hovered=\"isHoveredPort('out', port)\"\n        align=\"end\"\n        @mousedown=\"mouseDownPort('out', port, $event)\"\n        @mouseenter=\"mouseEnterPort('out', port, $event)\"\n        @mouseleave=\"mouseLeavePort('out', port, $event)\"\n      />\n    </svg>\n    <svg width=\"10\" height=\"10\"\n         :x=\"node.x + node.width - 10\" :y=\"node.y + node.height - 10\"\n         @mousedown=\"onResizeStart\"\n    >\n      <path d=\"M 0,10 10,0 v 10 z\" fill=\"#000\" style=\"cursor:nwse-resize\"/>\n    </svg>\n  </g>\n</template>\n<script>\nimport Node from '../models/Node';\nimport DiagramPort from \"./DiagramPort\";\nimport DiagramNodeTitle from './DiagramNodeTitle';\nimport isEqual from 'lodash/isEqual';\n\nexport default {\n  name: \"DiagramNode\",\n\n  components: {\n    DiagramNodeTitle, DiagramPort\n  },\n\n  props: {\n    node: {type: Node, required: true},\n    color: {type: Function, required: true},\n    pulseColor: {type: Function, required: true},\n    pulsable: {type: Function, required: true},\n    portDisabled: {type: Function, required: true},\n    portAvailable: {type: Function, required: true},\n    deletable: {type: Function, required: true},\n    activePort: {type: Object, default: null},\n    hoveredPort: {type: Object, default: null},\n    selected: {type: Boolean, default: false},\n    dragging: {type: Boolean, default: false},\n  },\n\n  data() {\n    return {\n      nodeStrokeWidth: 0,\n      titleFillOpacity: 0.25\n    };\n  },\n\n  computed: {\n    portsIn() {\n      return Object.entries(this.node.portsIn);\n    },\n    portsOut() {\n      return Object.entries(this.node.portsOut);\n    },\n    portsInDisabled() {\n      return Object.keys(this.node.portsIn).reduce((acc, port) => ({\n        ...acc,\n        [port]: this.portDisabled({id: this.node.id, type: 'in', port})\n      }), {});\n    },\n    portsOutDisabled() {\n      return Object.keys(this.node.portsOut).reduce((acc, port) => ({\n        ...acc,\n        [port]: this.portDisabled({id: this.node.id, type: 'out', port})\n      }), {});\n    },\n    portsInAvailable() {\n      return Object.keys(this.node.portsIn).reduce((acc, port) => ({\n        ...acc,\n        [port]: this.activePort && this.isAvailablePort('in', port)\n      }), {});\n    },\n    portsOutAvailable() {\n      return Object.keys(this.node.portsOut).reduce((acc, port) => ({\n        ...acc,\n        [port]: this.activePort && this.isAvailablePort('out', port)\n      }), {});\n    },\n    portsHeight() {\n      return this.node.portsHeight;\n    },\n    slotWidth() {\n      return this.node.size.width - 4;\n    },\n    slotHeight() {\n      //  -  - \n      return this.node.size.height - 22;\n    },\n    nodeDeletable(){\n      return this.deletable(this.node);\n    }\n  },\n\n  methods: {\n    isAvailablePort(type, port) {\n      const data = {id: this.node.id, type, port};\n      const activePort = {...this.activePort};\n      const hoveredPort = this.hoveredPort ? {...this.hoveredPort} : null;\n      const hoveredIsActive = hoveredPort ? isEqual(activePort, hoveredPort) : false;\n      return !hoveredIsActive && !isEqual(activePort, data) && this.portAvailable({\n        ...data,\n        activePort: {...this.activePort}\n      });\n    },\n\n    deleteNode() {\n      this.$emit(\"delete\", this.node.id);\n    },\n\n    onDragStart(e) {\n      this.$emit('drag-start', {\n        node: this.node,\n        eX: e.x,\n        eY: e.y,\n      });\n    },\n    onResizeStart(e) {\n      this.$emit('resize-start', {\n        node: this.node,\n        eX: e.x,\n        eY: e.y,\n      });\n    },\n\n    isHoveredPort(type, port) {\n      return this.hoveredPort &&\n        this.node.id === this.hoveredPort.id &&\n        port === this.hoveredPort.port &&\n        type === this.hoveredPort.type;\n    },\n\n    mouseDownPort(type, port) {\n      const portIsDisabled = type === 'in'\n        ? this.portsInDisabled[port]\n        : this.portsOutDisabled[port];\n      if (!portIsDisabled) {\n        this.$emit('active-port', {\n          id: this.node.id,\n          port: port,\n          type: type\n        });\n      }\n    },\n\n    mouseEnterPort(type, port) {\n      this.$emit('hovered-port', {\n        id: this.node.id,\n        port: port,\n        type: type\n      });\n    },\n    mouseLeavePort() {\n      this.$emit('hovered-port', null);\n    },\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiagramNode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiagramNode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DiagramNode.vue?vue&type=template&id=6da56cf5&\"\nimport script from \"./DiagramNode.vue?vue&type=script&lang=js&\"\nexport * from \"./DiagramNode.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/max/WORK/vue-diagram-editor/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('6da56cf5')) {\n      api.createRecord('6da56cf5', component.options)\n    } else {\n      api.reload('6da56cf5', component.options)\n    }\n    module.hot.accept(\"./DiagramNode.vue?vue&type=template&id=6da56cf5&\", function () {\n      api.rerender('6da56cf5', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/DiagramNode.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"g\",\n    {\n      on: {\n        mouseenter: function($event) {\n          _vm.hovered = true\n        },\n        mouseleave: function($event) {\n          _vm.hovered = false\n        },\n        mousedown: function($event) {\n          return _vm.$emit(\"mousedown\", $event)\n        }\n      }\n    },\n    [\n      _c(\"path\", {\n        style: _vm.largeStrokeStyle,\n        attrs: { d: _vm.curve, \"stroke-width\": \"8\", fill: \"none\" }\n      }),\n      _c(\"path\", {\n        staticStyle: { stroke: \"rgb(0,0,0)\" },\n        attrs: { d: _vm.curve, \"stroke-width\": \"2\", fill: \"none\" }\n      })\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { ulid } from \"ulid\";\n\nvar Link = function Link(props) {\n  _classCallCheck(this, Link);\n\n  _defineProperty(this, \"id\", null);\n\n  _defineProperty(this, \"start_id\", null);\n\n  _defineProperty(this, \"start_port\", null);\n\n  _defineProperty(this, \"end_id\", null);\n\n  _defineProperty(this, \"end_port\", null);\n\n  this.id = props.id || ulid();\n  if (!props.start_id) throw new Error('start_id is empty!');\n  this.start_id = props.start_id;\n  this.start_port = props.start_port || 'default';\n  if (!props.end_id) throw new Error('end_id is empty!');\n  this.end_id = props.end_id;\n  this.end_port = props.end_port || 'default';\n};\n\nexport { Link as default };","<template>\n  <g\n    @mouseenter=\"hovered=true\"\n    @mouseleave=\"hovered=false\"\n    @mousedown=\"$emit('mousedown', $event)\"\n  >\n    <path\n      :d=\"curve\"\n      :style=\"largeStrokeStyle\"\n      stroke-width=\"8\"\n      fill=\"none\"\n    />\n    <path\n      :d=\"curve\"\n      style=\"stroke:rgb(0,0,0);\"\n      stroke-width=\"2\"\n      fill=\"none\"\n    />\n  </g>\n</template>\n<script>\nimport Link from '../models/Link';\nimport Node from '../models/Node';\n\nexport default {\n  name: \"DiagramLink\",\n  props: {\n    link: {type: Link, required: true},\n    nodeStart: {type: Node, required: true},\n    nodeEnd: {type: Node, required: true},\n    selected: {type: Boolean, default: false}\n  },\n\n  data: () => ({\n    hovered: false\n  }),\n\n  computed: {\n    startCoordinates() {\n      return this.nodeStart.getPortCoordinates('out', this.link.start_port);\n    },\n    endCoordinates() {\n      return this.nodeEnd.getPortCoordinates('in', this.link.end_port);\n    },\n    x1() {\n      return this.startCoordinates.x - 2;\n    },\n\n    y1() {\n      return this.startCoordinates.y;\n    },\n\n    x2() {\n      return this.endCoordinates.x + 1;\n    },\n\n    y2() {\n      return this.endCoordinates.y;\n    },\n\n    curve() {\n      let x1 = Math.trunc(this.x1),\n        y1 = Math.trunc(this.y1),\n        x2 = Math.trunc(this.x2),\n        y2 = Math.trunc(this.y2);\n\n      let distance = Math.trunc(4 * Math.sqrt(Math.abs(x1 - x2))) + 10;\n      return `M${x1},${y1} C${x1 + distance},${y1} ${x2 - distance},${y2} ${x2},${y2}`;\n    },\n\n    largeStrokeStyle() {\n      if (this.selected) {\n        return this.hovered ? 'stroke:rgba(0,0,255,0.6);' : 'stroke:rgba(0,0,255,0.4);';\n      }\n      return this.hovered ? 'stroke:rgba(255,0,0,0.5);' : 'stroke:rgba(255,0,0,0.0);';\n    }\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiagramLink.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiagramLink.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DiagramLink.vue?vue&type=template&id=71e2b2ed&\"\nimport script from \"./DiagramLink.vue?vue&type=script&lang=js&\"\nexport * from \"./DiagramLink.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/max/WORK/vue-diagram-editor/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('71e2b2ed')) {\n      api.createRecord('71e2b2ed', component.options)\n    } else {\n      api.reload('71e2b2ed', component.options)\n    }\n    module.hot.accept(\"./DiagramLink.vue?vue&type=template&id=71e2b2ed&\", function () {\n      api.rerender('71e2b2ed', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/DiagramLink.vue\"\nexport default component.exports","export const getAbsoluteXY = element => {\n    var viewportElement = document.documentElement;\n    var box = element.getBoundingClientRect();\n    var scrollLeft = viewportElement.scrollLeft;\n    var scrollTop = viewportElement.scrollTop;\n    return {\n        x: box.left + scrollLeft,\n        y: box.top + scrollTop\n    };\n};\n\nexport const snapToGrip = (val, gridSize) => {\n    return gridSize * Math.round(val / gridSize);\n};\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Vue from 'vue';\nimport Node from '../models/Node';\nimport Link from '../models/Link';\nimport Coordinates from '../models/Coordinates';\nimport { snapToGrip } from '../helpers';\nimport Size from '../models/Size';\nimport cloneDeep from 'lodash/cloneDeep';\nimport isEqual from \"lodash/isEqual\";\nexport default (function () {\n  return {\n    data: function data() {\n      return {\n        nodes: {},\n        links: {},\n        draggedNode: null,\n        resizedNode: null,\n        selectedNode: null,\n        selectedLink: null,\n        initialCursorOffset: {\n          x: 0,\n          y: 0\n        },\n        activePort: null,\n        hoveredPort: null,\n        nodeCoordinatesBeforeDrag: {\n          x: 0,\n          y: 0\n        },\n        nodeSizeBeforeResize: {\n          width: 0,\n          height: 0\n        },\n        currentCursorPos: null\n      };\n    },\n    computed: {\n      newLink: function newLink() {\n        if (!this.activePort || this.currentCursorPos === null) return null;\n        var _this$activePort = this.activePort,\n            id = _this$activePort.id,\n            type = _this$activePort.type,\n            port = _this$activePort.port;\n        var startCoordinates = this.nodes[id].getPortCoordinates(type, port);\n        return {\n          x1: startCoordinates.x,\n          y1: startCoordinates.y,\n          x2: this.currentCursorPos.x,\n          y2: this.currentCursorPos.y\n        };\n      }\n    },\n    watch: {\n      selectedNode: function selectedNode(id) {\n        if (id) {\n          this.$emit('select-node', id);\n        }\n      },\n      draggedNode: function draggedNode(id) {\n        if (id) {\n          var node = this.nodes[id];\n          this.nodeCoordinatesBeforeDrag = _objectSpread({}, node.coordinates);\n        }\n\n        this.toggleMoveEventListener(id !== null);\n      },\n      resizedNode: function resizedNode(id) {\n        if (id) {\n          var node = this.nodes[id];\n          this.nodeSizeBeforeResize = _objectSpread({}, node.size);\n        }\n\n        this.toggleMoveEventListener(id !== null);\n      },\n      activePort: function activePort(v) {\n        this.toggleMoveEventListener(v !== null);\n      }\n    },\n    methods: {\n      setModel: function setModel(model) {\n        this.nodes = Object.values(model.nodes || []).reduce(function (carry, node) {\n          var nodeModel = new Node(node);\n          return _objectSpread(_objectSpread({}, carry), {}, _defineProperty({}, nodeModel.id, nodeModel));\n        }, {});\n        this.links = Object.values(model.links || []).reduce(function (carry, link) {\n          var linkModel = new Link(link);\n          return _objectSpread(_objectSpread({}, carry), {}, _defineProperty({}, linkModel.id, linkModel));\n        }, {});\n      },\n      beforePan: function beforePan() {\n        return this.pan && !(this.draggedNode || this.resizedNode || this.activePort);\n      },\n      addNode: function addNode(node) {\n        var nodeModel = new Node(node);\n        Vue.set(this.nodes, nodeModel.id, nodeModel);\n      },\n      addLink: function addLink(link) {\n        var linkModel = new Link(link);\n        Vue.set(this.links, linkModel.id, linkModel);\n      },\n      deleteNode: function deleteNode(id) {\n        var node = this.nodes[id];\n        if (this.beforeDeleteNode(node) === false) return;\n        Vue.delete(this.nodes, id);\n\n        for (var linkId in this.links) {\n          if (this.links.hasOwnProperty(linkId)) {\n            var link = this.links[linkId];\n\n            if (link.start_id === id || link.end_id === id) {\n              Vue.delete(this.links, linkId);\n            }\n          }\n        }\n\n        this.$emit('deleted-node', id);\n      },\n      deleteLink: function deleteLink(id) {\n        if (this.beforeDeleteLink(this.links[id]) === false) return;\n        Vue.delete(this.links, id);\n        this.$emit('deleted-link', id);\n      },\n      selectLink: function selectLink(id) {\n        this.selectedLink = id;\n      },\n      clearSelection: function clearSelection() {\n        this.selectedNode = null;\n        this.selectedLink = null;\n      },\n      toggleMoveEventListener: function toggleMoveEventListener(enable) {\n        if (enable) {\n          document.body.addEventListener('mousemove', this.mouseMove);\n          document.body.addEventListener('mouseup', this.mouseUp);\n        } else {\n          document.body.removeEventListener('mousemove', this.mouseMove);\n          document.body.removeEventListener('mouseup', this.mouseUp);\n        }\n      },\n      mouseMove: function mouseMove(pos) {\n        if (this.draggedNode || this.resizedNode) {\n          this.dragMove({\n            gridSnap: this.gridSnap,\n            x: pos.x,\n            y: pos.y\n          });\n        } else if (this.activePort) {\n          var _this$convertXYtoView = this.convertXYtoViewPort(pos.pageX, pos.pageY),\n              x = _this$convertXYtoView.x,\n              y = _this$convertXYtoView.y;\n\n          this.currentCursorPos = {\n            x: x,\n            y: y\n          };\n        }\n      },\n      mouseUp: function mouseUp() {\n        if (this.draggedNode || this.resizedNode) {\n          var id = this.draggedNode || this.resizedNode;\n          var node = id ? this.nodes[id] : null;\n          var isDragged = !!this.draggedNode;\n          var hasChanges = this.draggedNode && !isEqual(_objectSpread({}, node.coordinates), _objectSpread({}, this.nodeCoordinatesBeforeDrag)) || this.resizedNode && !isEqual(_objectSpread({}, node.size), _objectSpread({}, this.nodeSizeBeforeResize));\n          this.dragEnd();\n\n          if (hasChanges) {\n            this.$emit('updated-node', node);\n          } else if (isDragged) {\n            this.selectedNode = id;\n          }\n        } else if (this.activePort) {\n          var activePort = _objectSpread({}, this.activePort);\n\n          if (this.hoveredPort) {\n            var hoveredPort = _objectSpread({}, this.hoveredPort);\n\n            if (isEqual(activePort, hoveredPort)) {\n              this.$emit('click-port', activePort);\n            } else {\n              if (this.portAvailable(_objectSpread(_objectSpread({}, hoveredPort), {}, {\n                activePort: activePort\n              }))) {\n                var link = new Link({\n                  start_id: activePort.id,\n                  start_port: activePort.port,\n                  end_id: hoveredPort.id,\n                  end_port: hoveredPort.port\n                });\n                Vue.set(this.links, link.id, link);\n                this.$emit('created-link', link);\n              }\n            }\n          }\n\n          this.activePort = null;\n          this.currentCursorPos = null;\n        }\n      },\n      serialize: function serialize() {\n        return {\n          nodes: Object.values(this.nodes).map(function (node) {\n            return cloneDeep(node);\n          }),\n          links: Object.values(this.links).map(function (link) {\n            return cloneDeep(link);\n          })\n        };\n      },\n      dragStart: function dragStart(_ref) {\n        var id = _ref.id,\n            offset = _ref.offset,\n            type = _ref.type;\n\n        if (type === 'drag') {\n          this.draggedNode = id;\n          this.resizedNode = null;\n        } else if (type === 'resize') {\n          this.draggedNode = null;\n          this.resizedNode = id;\n        }\n\n        this.initialCursorOffset = offset;\n      },\n      dragMove: function dragMove(_ref2) {\n        var _this = this;\n\n        var gridSnap = _ref2.gridSnap,\n            x = _ref2.x,\n            y = _ref2.y;\n\n        var getCoords = function getCoords(X, Y) {\n          var _this$convertXYtoView2 = _this.convertXYtoViewPort(X, Y),\n              x = _this$convertXYtoView2.x,\n              y = _this$convertXYtoView2.y;\n\n          x = snapToGrip(x, gridSnap) - gridSnap / 2;\n          y = snapToGrip(y, gridSnap);\n          x -= _this.initialCursorOffset.x;\n          y -= _this.initialCursorOffset.y;\n          return {\n            x: x,\n            y: y\n          };\n        };\n\n        if (this.draggedNode) {\n          this.updateNode({\n            id: this.draggedNode,\n            name: 'coordinates',\n            value: new Coordinates(getCoords(x, y))\n          });\n        }\n\n        if (this.resizedNode) {\n          var node = this.nodes[this.resizedNode];\n          var coords = getCoords(x, y);\n          var size = new Size({\n            width: Math.abs(coords.x - node.coordinates.x),\n            height: Math.abs(coords.y - node.coordinates.y)\n          });\n\n          if (size.width < 30) {\n            size.width = 30;\n          }\n\n          if (size.height < 30) {\n            size.height = 30;\n          }\n\n          this.updateNode({\n            id: this.resizedNode,\n            name: 'size',\n            value: size\n          });\n        }\n      },\n      dragEnd: function dragEnd() {\n        this.draggedNode = null;\n        this.resizedNode = null;\n      },\n      updateNode: function updateNode(_ref3) {\n        var id = _ref3.id,\n            name = _ref3.name,\n            value = _ref3.value;\n        Vue.set(this.nodes[id], name, Node.prepareProp(name, value));\n      }\n    }\n  };\n});","import svgPanZoom from 'svg-pan-zoom';\n\nexport default () => ({\n    data: () => ({\n        spz: null\n    }),\n    mounted() {\n        this.spz = svgPanZoom(this.$refs.diagramRoot, {\n            viewportSelector: this.$refs.viewPort,\n            center: false,\n            preventMouseEventsDefault: this.preventMouseEventsDefault,\n            beforePan: this.beforePan,\n            beforeZoom: () => this.zoomEnabled,\n        });\n    },\n    beforeDestroy() {\n        if (this.spz) {\n            this.spz.destroy();\n        }\n    },\n    methods: {\n        enableDblClickZoom() {\n            if (this.spz) return this.spz.enableDblClickZoom();\n        },\n        disableDblClickZoom() {\n            if (this.spz) return this.spz.disableDblClickZoom();\n        },\n        isDblClickZoomEnabled() {\n            if (this.spz) return this.spz.isDblClickZoomEnabled();\n        },\n        enableMouseWheelZoom() {\n            if (this.spz) return this.spz.enableMouseWheelZoom();\n        },\n        disableMouseWheelZoom() {\n            if (this.spz) return this.spz.disableMouseWheelZoom();\n        },\n        isMouseWheelZoomEnabled() {\n            if (this.spz) return this.spz.isMouseWheelZoomEnabled();\n        },\n        resetZoom() {\n            if (this.spz) return this.spz.resetZoom();\n        },\n        updateBBox() {\n            if (this.spz) return this.spz.updateBBox();\n        },\n        fit() {\n            if (this.spz) return this.spz.fit();\n        },\n        contain() {\n            if (this.spz) return this.spz.contain();\n        },\n        center() {\n            if (this.spz) return this.spz.center();\n        },\n    },\n});\n","<template>\n  <svg\n    :id=\"`diagram-root-${uniqId}`\"\n    ref=\"diagramRoot\"\n    version=\"1.1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    :viewBox.camel=\"'0 0 ' + (width/1.2) + ' ' + (height/1.2)\"\n    :width=\"width\"\n    :height=\"height\"\n    preserveAspectRatio=\"xMinYMin meet\"\n    class=\"diagram-editor__svg-content\"\n  >\n    <g ref=\"viewPort\" class=\"svg-pan-zoom_viewport\" x=\"50\" y=\"50\">\n      <defs>\n        <pattern :id=\"`diagram-small-grid-${uniqId}`\" width=\"16\" height=\"16\" patternUnits=\"userSpaceOnUse\">\n          <path d=\"M 16 0 L 0 0 0 16\" fill=\"none\" stroke=\"#ccc\" stroke-width=\"0.5\"/>\n        </pattern>\n        <pattern :id=\"`diagram-grid-${uniqId}`\" width=\"80\" height=\"80\" patternUnits=\"userSpaceOnUse\">\n          <rect width=\"80\" height=\"80\" :fill=\"`url(#diagram-small-grid-${uniqId})`\"/>\n          <path d=\"M 80 0 L 0 0 0 80\" fill=\"none\" stroke=\"#ccc\" stroke-width=\"1\"/>\n        </pattern>\n      </defs>\n\n      <rect\n        ref=\"grid\"\n        x=\"-5000px\" y=\"-5000px\"\n        width=\"10000px\" height=\"10000px\"\n        :fill=\"`url(#diagram-grid-${uniqId})`\"\n        @mousedown=\"clearSelection\"\n      />\n\n      <DiagramLink\n        v-for=\"link in links\"\n        :id=\"link.id\"\n        :key=\"link.id\"\n        :link=\"link\"\n        :node-start=\"nodes[link.start_id]\"\n        :node-end=\"nodes[link.end_id]\"\n        :selected=\"selectedLink === link.id\"\n        @mousedown=\"selectLink(link.id)\"\n      />\n      <DiagramNode\n        v-for=\"node in nodes\"\n        :key=\"node.id\"\n        :node=\"node\"\n        :color=\"nodeColor\"\n        :pulse-color=\"nodePulseColor\"\n        :pulsable=\"nodePulsable\"\n        :deletable=\"nodeDeletable\"\n        :dragging=\"draggedNode === node.id\"\n        :selected=\"selectedNode === node.id\"\n        :port-disabled=\"portDisabled\"\n        :port-available=\"portAvailable\"\n        :active-port=\"activePort\"\n        :hovered-port=\"hoveredPort\"\n\n        @delete=\"deleteNode\"\n        @drag-start=\"onNodeDragStart\"\n        @resize-start=\"onNodeResizeStart\"\n        @hovered-port=\"setHoveredPort\"\n        @active-port=\"setActivePort\"\n      >\n        <template #default=\"scopedParams\">\n          <slot v-bind=\"scopedParams\" :node=\"node\"/>\n        </template>\n      </DiagramNode>\n      <line\n        v-if=\"newLink\"\n        :x1=\"newLink.x1\"\n        :y1=\"newLink.y1\"\n        :x2=\"newLink.x2\"\n        :y2=\"newLink.y2\"\n        style=\"stroke:rgb(255,0,0);stroke-width:2\"\n        pointer-events=\"none\"\n      />\n    </g>\n  </svg>\n</template>\n\n<script>\nimport DiagramNode from './DiagramNode';\nimport DiagramLink from './DiagramLink';\nimport DiagramEditorMixin from '../mixins/DiagramEditorMixin';\nimport SvgPanZoomMixin from '../mixins/SvgPanZoomMixin';\nimport {getAbsoluteXY} from '../helpers';\nimport {ulid} from \"ulid\";\n\nexport default {\n  name: 'DiagramRoot',\n  components: {\n    DiagramNode,\n    DiagramLink,\n  },\n  mixins: [DiagramEditorMixin(), SvgPanZoomMixin()],\n  props: {\n    width: {type: Number, default: 0},\n    height: {type: Number, required: true},\n    gridSnap: {type: Number, required: true},\n    zoomEnabled: {type: Boolean, required: true},\n    nodeColor: {type: Function, required: true},\n    nodePulseColor: {type: Function, required: true},\n    nodePulsable: {type: Function, required: true},\n    nodeDeletable: {type: Function, required: true},\n    beforeDeleteNode: {type: Function, required: true},\n    beforeDeleteLink: {type: Function, required: true},\n    portDisabled: {type: Function, required: true},\n    portAvailable: {type: Function, required: true},\n    pan: {type: Boolean, required: true},\n    preventMouseEventsDefault: {type: Boolean, default: true},\n  },\n  computed: {\n    uniqId() {\n      return ulid();\n    }\n  },\n  mounted() {\n    document.addEventListener('keydown', this.keyDownHandler);\n  },\n  beforeDestroy() {\n    document.removeEventListener('keydown', this.keyDownHandler);\n  },\n\n  methods: {\n    keyDownHandler(e) {\n      // delete\n      if (e.keyCode === 46) {\n        if (this.selectedNode && this.nodeDeletable(this.nodes[this.selectedNode])) {\n          this.deleteNode(this.selectedNode);\n        }\n        if (this.selectedLink) {\n          this.deleteLink(this.selectedLink);\n        }\n      }\n      // esc\n      if (e.keyCode === 27) {\n        this.clearSelection();\n      }\n    },\n\n    convertXYtoViewPort(x, y) {\n      const root = this.$refs.diagramRoot;\n      const viewport = this.$refs.viewPort;\n      let point = root.createSVGPoint();\n      let rootPosition = getAbsoluteXY(root);\n      point.x = x - rootPosition.x;\n      point.y = y - rootPosition.y;\n      let ctm = viewport.getCTM().inverse();\n      return point.matrixTransform(ctm);\n    },\n\n    onNodeDragStart({node, eX, eY}) {\n      const {x, y} = this.convertXYtoViewPort(eX, eY);\n      this.dragStart({\n        type: 'drag',\n        id: node.id,\n        offset: {\n          x: Math.round(x - node.x),\n          y: Math.round(y - node.y)\n        }\n      });\n    },\n    onNodeResizeStart({node, eX, eY}) {\n      const {x, y} = this.convertXYtoViewPort(eX, eY);\n      this.dragStart({\n        type: 'resize',\n        id: node.id,\n        offset: {\n          x: -Math.round((node.x + node.width) - x),\n          y: -Math.round((node.y + node.height) - y)\n        }\n      });\n    },\n    setActivePort(port) {\n      this.activePort = port;\n    },\n    setHoveredPort(port) {\n      this.hoveredPort = port;\n    },\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiagramRoot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiagramRoot.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DiagramRoot.vue?vue&type=template&id=20c2cfd5&\"\nimport script from \"./DiagramRoot.vue?vue&type=script&lang=js&\"\nexport * from \"./DiagramRoot.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/max/WORK/vue-diagram-editor/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('20c2cfd5')) {\n      api.createRecord('20c2cfd5', component.options)\n    } else {\n      api.reload('20c2cfd5', component.options)\n    }\n    module.hot.accept(\"./DiagramRoot.vue?vue&type=template&id=20c2cfd5&\", function () {\n      api.rerender('20c2cfd5', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/DiagramRoot.vue\"\nexport default component.exports","<template>\n  <div class=\"diagram-editor__wrapper\">\n    <DiagramRoot\n      ref=\"diagram\"\n      :width=\"width\"\n      :height=\"height\"\n      :grid-snap=\"gridSnap\"\n      :zoom-enabled=\"zoomEnabled\"\n      :node-color=\"nodeColor\"\n      :node-pulsable=\"nodePulsable\"\n      :node-deletable=\"nodeDeletable\"\n      :node-pulse-color=\"nodePulseColor\"\n      :before-delete-node=\"beforeDeleteNode\"\n      :before-delete-link=\"beforeDeleteLink\"\n      :port-disabled=\"portDisabled\"\n      :port-available=\"portAvailable\"\n      :pan=\"pan\"\n      :prevent-mouse-events-default=\"preventMouseEventsDefault\"\n      @select-node=\"$emit('select-node', $event)\"\n      @deleted-node=\"$emit('deleted-node', $event)\"\n      @deleted-link=\"$emit('deleted-link', $event)\"\n      @updated-node=\"$emit('updated-node', $event)\"\n      @click-port=\"$emit('click-port', $event)\"\n      @created-link=\"$emit('created-link', $event)\"\n    >\n      <template #default=\"scopedParams\">\n        <slot name=\"node\" v-bind=\"scopedParams\"/>\n      </template>\n    </DiagramRoot>\n  </div>\n</template>\n<script>\nimport DiagramRoot from \"./DiagramRoot\";\nimport throttle from 'lodash/throttle';\n\nexport default {\n  name: \"Diagram\",\n\n  components: {\n    DiagramRoot,\n  },\n\n  props: {\n    height: {\n      type: Number,\n      default: 500\n    },\n    gridSnap: {\n      type: Number,\n      default: 1\n    },\n    zoomEnabled: {\n      type: Boolean,\n      default: true\n    },\n    nodeColor: {\n      type: Function,\n      default: () => \"#66cc00\"\n    },\n    nodePulseColor: {\n      type: Function,\n      default: () => '#f00'\n    },\n    nodePulsable: {\n      type: Function,\n      default: () => false\n    },\n    nodeDeletable: {\n      type: Function,\n      default: () => true\n    },\n    beforeDeleteNode: {\n      type: Function,\n      default: () => true\n    },\n    beforeDeleteLink: {\n      type: Function,\n      default: () => true\n    },\n    portDisabled: {\n      type: Function,\n      default: () => false\n    },\n    portAvailable: {\n      type: Function,\n      default: () => true\n    },\n    pan: {\n      type: Boolean,\n      default: true\n    },\n    preventMouseEventsDefault: {\n      type: Boolean,\n      default: true\n    },\n  },\n\n  data() {\n    return {\n      width: null,\n    };\n  },\n\n  mounted() {\n    window.addEventListener('resize', this.updateWrapperWidth);\n    this.updateWrapperWidth();\n  },\n\n  beforeDestroy() {\n    window.removeEventListener('resize', this.updateWrapperWidth);\n  },\n\n  methods: {\n    updateWrapperWidth: throttle(function () {\n      const {width} = this.$el.getBoundingClientRect();\n      this.width = width;\n    }, 100),\n\n    setModel(model) {\n      this.$refs.diagram.setModel(model);\n    },\n\n    serialize() {\n      return this.$refs.diagram.serialize();\n    },\n\n    addNode(node) {\n      this.$refs.diagram.addNode(node);\n    },\n\n    addLink(link) {\n      this.$refs.diagram.addLink(link);\n    },\n\n    updateNode({id, name, value}) {\n      this.$refs.diagram.updateNode({id, name, value});\n    },\n\n    deleteNode(id) {\n      this.$refs.diagram.deleteNode(id);\n    },\n\n    deleteLink(id) {\n      this.$refs.diagram.deleteLink(id);\n    },\n\n    enableDblClickZoom() {\n      return this.$refs.diagram.enableDblClickZoom();\n    },\n    disableDblClickZoom() {\n      return this.$refs.diagram.disableDblClickZoom();\n    },\n    isDblClickZoomEnabled() {\n      return this.$refs.diagram.isDblClickZoomEnabled();\n    },\n    enableMouseWheelZoom() {\n      return this.$refs.diagram.enableMouseWheelZoom();\n    },\n    disableMouseWheelZoom() {\n      return this.$refs.diagram.disableMouseWheelZoom();\n    },\n    isMouseWheelZoomEnabled() {\n      return this.$refs.diagram.isMouseWheelZoomEnabled();\n    },\n    resetZoom() {\n      return this.$refs.diagram.resetZoom();\n    },\n    updateBBox() {\n      return this.$refs.diagram.updateBBox();\n    },\n    fit() {\n      return this.$refs.diagram.fit();\n    },\n    contain() {\n      return this.$refs.diagram.contain();\n    },\n    center() {\n      return this.$refs.diagram.center();\n    },\n  },\n};\n</script>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Diagram.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Diagram.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Diagram.vue?vue&type=template&id=250e0153&\"\nimport script from \"./Diagram.vue?vue&type=script&lang=js&\"\nexport * from \"./Diagram.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/max/WORK/vue-diagram-editor/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('250e0153')) {\n      api.createRecord('250e0153', component.options)\n    } else {\n      api.reload('250e0153', component.options)\n    }\n    module.hot.accept(\"./Diagram.vue?vue&type=template&id=250e0153&\", function () {\n      api.rerender('250e0153', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/Diagram.vue\"\nexport default component.exports","import Diagram from './components/Diagram';\nimport Link from './models/Link';\nimport Node from './models/Node';\nimport Size from './models/Size';\nimport Coordinates from './models/Coordinates';\n\nimport './style.scss';\n\n// Export components and models\nexport {Diagram, Node, Link, Size, Coordinates};\n\nexport default Diagram;\n"],"sourceRoot":""}