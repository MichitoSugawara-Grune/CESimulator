{"version":3,"sources":["webpack://VueDiagramEditor/webpack/bootstrap","webpack://VueDiagramEditor/external \"vue\"","webpack://VueDiagramEditor/external \"lodash/isEqual\"","webpack://VueDiagramEditor/external \"ulid\"","webpack://VueDiagramEditor/external \"lodash/cloneDeep\"","webpack://VueDiagramEditor/external \"svg-pan-zoom\"","webpack://VueDiagramEditor/external \"lodash/throttle\"","webpack://VueDiagramEditor/./src/components/Diagram.vue?6eb8","webpack://VueDiagramEditor/./src/components/DiagramRoot.vue?8d28","webpack://VueDiagramEditor/./src/components/DiagramNode.vue?0de8","webpack://VueDiagramEditor/./src/models/Coordinates.js","webpack://VueDiagramEditor/./src/models/Size.js","webpack://VueDiagramEditor/./src/models/Node.js","webpack://VueDiagramEditor/./src/components/DiagramPort.vue?78d3","webpack://VueDiagramEditor/./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack://VueDiagramEditor/./src/components/DiagramPort.vue","webpack://VueDiagramEditor/src/components/DiagramPort.vue","webpack://VueDiagramEditor/./src/components/DiagramNodeTitle.vue?584f","webpack://VueDiagramEditor/src/components/DiagramNodeTitle.vue","webpack://VueDiagramEditor/./src/components/DiagramNodeTitle.vue","webpack://VueDiagramEditor/src/components/DiagramNode.vue","webpack://VueDiagramEditor/./src/components/DiagramNode.vue","webpack://VueDiagramEditor/./src/components/DiagramLink.vue?3191","webpack://VueDiagramEditor/./src/models/Link.js","webpack://VueDiagramEditor/./src/components/DiagramLink.vue","webpack://VueDiagramEditor/src/components/DiagramLink.vue","webpack://VueDiagramEditor/./src/helpers.js","webpack://VueDiagramEditor/./src/mixins/DiagramEditorMixin.js","webpack://VueDiagramEditor/./src/components/DiagramRoot.vue","webpack://VueDiagramEditor/src/components/DiagramRoot.vue","webpack://VueDiagramEditor/./src/mixins/SvgPanZoomMixin.js","webpack://VueDiagramEditor/./src/components/Diagram.vue","webpack://VueDiagramEditor/src/components/Diagram.vue","webpack://VueDiagramEditor/./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","width","height","gridSnap","zoomEnabled","nodeColor","nodePulsable","nodeDeletable","nodePulseColor","beforeDeleteNode","beforeDeleteLink","portDisabled","portAvailable","pan","preventMouseEventsDefault","on","$event","$emit","scopedSlots","_u","fn","scopedParams","_t","_withStripped","id","uniqId","version","xmlns","viewBox","preserveAspectRatio","x","y","patternUnits","fill","stroke","mousedown","clearSelection","_l","links","link","nodes","start_id","end_id","selected","selectedLink","selectLink","node","color","pulsable","deletable","dragging","draggedNode","selectedNode","activePort","hoveredPort","delete","deleteNode","onNodeDragStart","onNodeResizeStart","setHoveredPort","setActivePort","newLink","staticStyle","x1","y1","x2","y2","_e","pulseColor","rx","ry","size","title","nativeOn","stopPropagation","onDragStart","slotWidth","slotHeight","portsHeight","portsIn","portIndex","port","portTitle","portsOut","length","disabled","portsInDisabled","available","portsInAvailable","hovered","isHoveredPort","align","mouseDownPort","mouseenter","mouseEnterPort","mouseleave","mouseLeavePort","portsOutDisabled","portsOutAvailable","onResizeStart","cursor","Coordinates","Number","Size","ownKeys","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_defineProperties","target","props","descriptor","configurable","writable","obj","Node","attr","instance","Constructor","TypeError","prepareProp","coordinates","data","protoProps","staticProps","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectSpread","a","b","Math","max","PORT_HEIGHT","type","includes","Error","index","findIndex","portName","concat","_g","$options","listeners","_v","_s","normalizeComponent","scriptExports","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","options","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","component","__file","style","hover","titleFillOpacity","click","required","String","Boolean","default","computed","components","DiagramNodeTitle","nodeStrokeWidth","entries","reduce","methods","isAvailablePort","eX","e","eY","largeStrokeStyle","curve","Link","start_port","end_port","nodeStart","nodeEnd","startCoordinates","getPortCoordinates","endCoordinates","snapToGrip","val","gridSize","round","DiagramNode","DiagramLink","mixins","resizedNode","initialCursorOffset","nodeCoordinatesBeforeDrag","nodeSizeBeforeResize","currentCursorPos","_this$activePort","watch","toggleMoveEventListener","v","setModel","model","values","carry","nodeModel","linkModel","beforePan","addNode","set","addLink","linkId","deleteLink","enable","document","body","addEventListener","mouseMove","mouseUp","removeEventListener","pos","dragMove","_this$convertXYtoView","convertXYtoViewPort","pageX","pageY","isDragged","hasChanges","dragEnd","serialize","map","dragStart","_ref","offset","_ref2","_this","getCoords","X","Y","_this$convertXYtoView2","updateNode","coords","abs","_ref3","spz","mounted","svgPanZoom","$refs","diagramRoot","viewportSelector","viewPort","center","beforeZoom","beforeDestroy","destroy","enableDblClickZoom","disableDblClickZoom","isDblClickZoomEnabled","enableMouseWheelZoom","disableMouseWheelZoom","isMouseWheelZoomEnabled","resetZoom","updateBBox","fit","contain","keyDownHandler","keyCode","element","viewportElement","box","scrollLeft","scrollTop","documentElement","getBoundingClientRect","left","top","point","rootPosition","matrixTransform","ctm","DiagramRoot","Function","window","updateWrapperWidth","diagram","Diagram"],"mappings":"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","file":"vue-diagram-editor.cjs.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","module.exports = require(\"vue\");","module.exports = require(\"lodash/isEqual\");","module.exports = require(\"ulid\");","module.exports = require(\"lodash/cloneDeep\");","module.exports = require(\"svg-pan-zoom\");","module.exports = require(\"lodash/throttle\");","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"diagram-editor__wrapper\" },\n    [\n      _c(\"DiagramRoot\", {\n        ref: \"diagram\",\n        attrs: {\n          width: _vm.width,\n          height: _vm.height,\n          \"grid-snap\": _vm.gridSnap,\n          \"zoom-enabled\": _vm.zoomEnabled,\n          \"node-color\": _vm.nodeColor,\n          \"node-pulsable\": _vm.nodePulsable,\n          \"node-deletable\": _vm.nodeDeletable,\n          \"node-pulse-color\": _vm.nodePulseColor,\n          \"before-delete-node\": _vm.beforeDeleteNode,\n          \"before-delete-link\": _vm.beforeDeleteLink,\n          \"port-disabled\": _vm.portDisabled,\n          \"port-available\": _vm.portAvailable,\n          pan: _vm.pan,\n          \"prevent-mouse-events-default\": _vm.preventMouseEventsDefault\n        },\n        on: {\n          \"select-node\": function($event) {\n            return _vm.$emit(\"select-node\", $event)\n          },\n          \"deleted-node\": function($event) {\n            return _vm.$emit(\"deleted-node\", $event)\n          },\n          \"deleted-link\": function($event) {\n            return _vm.$emit(\"deleted-link\", $event)\n          },\n          \"updated-node\": function($event) {\n            return _vm.$emit(\"updated-node\", $event)\n          },\n          \"click-port\": function($event) {\n            return _vm.$emit(\"click-port\", $event)\n          },\n          \"created-link\": function($event) {\n            return _vm.$emit(\"created-link\", $event)\n          }\n        },\n        scopedSlots: _vm._u(\n          [\n            {\n              key: \"default\",\n              fn: function(scopedParams) {\n                return [_vm._t(\"node\", null, null, scopedParams)]\n              }\n            }\n          ],\n          null,\n          true\n        )\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"svg\",\n    {\n      ref: \"diagramRoot\",\n      staticClass: \"diagram-editor__svg-content\",\n      attrs: {\n        id: \"diagram-root-\" + _vm.uniqId,\n        version: \"1.1\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        viewBox: \"0 0 \" + _vm.width / 1.2 + \" \" + _vm.height / 1.2,\n        width: _vm.width,\n        height: _vm.height,\n        preserveAspectRatio: \"xMinYMin meet\"\n      }\n    },\n    [\n      _c(\n        \"g\",\n        {\n          ref: \"viewPort\",\n          staticClass: \"svg-pan-zoom_viewport\",\n          attrs: { x: \"50\", y: \"50\" }\n        },\n        [\n          _c(\"defs\", [\n            _c(\n              \"pattern\",\n              {\n                attrs: {\n                  id: \"diagram-small-grid-\" + _vm.uniqId,\n                  width: \"16\",\n                  height: \"16\",\n                  patternUnits: \"userSpaceOnUse\"\n                }\n              },\n              [\n                _c(\"path\", {\n                  attrs: {\n                    d: \"M 16 0 L 0 0 0 16\",\n                    fill: \"none\",\n                    stroke: \"#ccc\",\n                    \"stroke-width\": \"0.5\"\n                  }\n                })\n              ]\n            ),\n            _c(\n              \"pattern\",\n              {\n                attrs: {\n                  id: \"diagram-grid-\" + _vm.uniqId,\n                  width: \"80\",\n                  height: \"80\",\n                  patternUnits: \"userSpaceOnUse\"\n                }\n              },\n              [\n                _c(\"rect\", {\n                  attrs: {\n                    width: \"80\",\n                    height: \"80\",\n                    fill: \"url(#diagram-small-grid-\" + _vm.uniqId + \")\"\n                  }\n                }),\n                _c(\"path\", {\n                  attrs: {\n                    d: \"M 80 0 L 0 0 0 80\",\n                    fill: \"none\",\n                    stroke: \"#ccc\",\n                    \"stroke-width\": \"1\"\n                  }\n                })\n              ]\n            )\n          ]),\n          _c(\"rect\", {\n            ref: \"grid\",\n            attrs: {\n              x: \"-5000px\",\n              y: \"-5000px\",\n              width: \"10000px\",\n              height: \"10000px\",\n              fill: \"url(#diagram-grid-\" + _vm.uniqId + \")\"\n            },\n            on: { mousedown: _vm.clearSelection }\n          }),\n          _vm._l(_vm.links, function(link) {\n            return _c(\"DiagramLink\", {\n              key: link.id,\n              attrs: {\n                id: link.id,\n                link: link,\n                \"node-start\": _vm.nodes[link.start_id],\n                \"node-end\": _vm.nodes[link.end_id],\n                selected: _vm.selectedLink === link.id\n              },\n              on: {\n                mousedown: function($event) {\n                  return _vm.selectLink(link.id)\n                }\n              }\n            })\n          }),\n          _vm._l(_vm.nodes, function(node) {\n            return _c(\"DiagramNode\", {\n              key: node.id,\n              attrs: {\n                node: node,\n                color: _vm.nodeColor,\n                \"pulse-color\": _vm.nodePulseColor,\n                pulsable: _vm.nodePulsable,\n                deletable: _vm.nodeDeletable,\n                dragging: _vm.draggedNode === node.id,\n                selected: _vm.selectedNode === node.id,\n                \"port-disabled\": _vm.portDisabled,\n                \"port-available\": _vm.portAvailable,\n                \"active-port\": _vm.activePort,\n                \"hovered-port\": _vm.hoveredPort\n              },\n              on: {\n                delete: _vm.deleteNode,\n                \"drag-start\": _vm.onNodeDragStart,\n                \"resize-start\": _vm.onNodeResizeStart,\n                \"hovered-port\": _vm.setHoveredPort,\n                \"active-port\": _vm.setActivePort\n              },\n              scopedSlots: _vm._u(\n                [\n                  {\n                    key: \"default\",\n                    fn: function(scopedParams) {\n                      return [\n                        _vm._t(\"default\", null, { node: node }, scopedParams)\n                      ]\n                    }\n                  }\n                ],\n                null,\n                true\n              )\n            })\n          }),\n          _vm.newLink\n            ? _c(\"line\", {\n                staticStyle: { stroke: \"rgb(255,0,0)\", \"stroke-width\": \"2\" },\n                attrs: {\n                  x1: _vm.newLink.x1,\n                  y1: _vm.newLink.y1,\n                  x2: _vm.newLink.x2,\n                  y2: _vm.newLink.y2,\n                  \"pointer-events\": \"none\"\n                }\n              })\n            : _vm._e()\n        ],\n        2\n      )\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"g\",\n    { attrs: { id: _vm.node.id } },\n    [\n      _vm.pulsable(_vm.node)\n        ? _c(\"rect\", {\n            staticClass: \"diagram--editor__pulse\",\n            attrs: {\n              fill: _vm.pulseColor(_vm.node),\n              stroke: _vm.pulseColor(_vm.node),\n              x: _vm.node.x,\n              y: _vm.node.y,\n              rx: \"3\",\n              ry: \"3\",\n              width: _vm.node.width,\n              height: _vm.node.height\n            }\n          })\n        : _vm._e(),\n      _c(\"rect\", {\n        attrs: {\n          fill: _vm.color(_vm.node),\n          stroke: \"#000000\",\n          \"stroke-width\": _vm.selected ? 1 : 0,\n          x: _vm.node.x,\n          y: _vm.node.y,\n          rx: \"3\",\n          ry: \"3\",\n          width: _vm.node.width,\n          height: _vm.node.height\n        }\n      }),\n      _c(\"DiagramNodeTitle\", {\n        attrs: {\n          x: _vm.node.x + 2,\n          y: _vm.node.y + 2,\n          width: _vm.node.size.width - 4,\n          title: _vm.node.title,\n          dragging: _vm.dragging,\n          deletable: _vm.nodeDeletable\n        },\n        on: { delete: _vm.deleteNode },\n        nativeOn: {\n          mousedown: function($event) {\n            $event.stopPropagation()\n            return _vm.onDragStart($event)\n          }\n        }\n      }),\n      _c(\"rect\", {\n        staticClass: \"node-light-background\",\n        attrs: {\n          fill: \"#ffffff\",\n          x: _vm.node.x + 2,\n          y: _vm.node.y + 20,\n          rx: \"3\",\n          ry: \"3\",\n          width: _vm.node.width - 4,\n          height: _vm.node.height - 22\n        }\n      }),\n      _c(\n        \"foreignObject\",\n        {\n          attrs: {\n            x: _vm.node.x + 2,\n            y: _vm.node.y + 20,\n            width: _vm.slotWidth,\n            height: _vm.slotHeight\n          }\n        },\n        [\n          _c(\n            \"body\",\n            {\n              staticClass: \"diagram-editor__node-body\",\n              attrs: { xmlns: \"http://www.w3.org/1999/xhtml\" }\n            },\n            [\n              _vm._t(\"default\", null, {\n                width: _vm.slotWidth,\n                height: _vm.slotHeight\n              })\n            ],\n            2\n          )\n        ]\n      ),\n      _c(\n        \"svg\",\n        {\n          attrs: {\n            x: _vm.node.x - 4,\n            y: _vm.node.y + _vm.node.height - _vm.portsHeight - 2,\n            width: _vm.node.width + 8,\n            height: _vm.portsHeight\n          }\n        },\n        [\n          _vm._l(_vm.portsIn, function(ref, portIndex) {\n            var port = ref[0]\n            var portTitle = ref[1]\n            return _c(\"DiagramPort\", {\n              key: _vm.node.id + \"_in_\" + port,\n              attrs: {\n                id: _vm.node.id + \"_in_\" + port,\n                title: portTitle,\n                width:\n                  portIndex + 1 > _vm.portsOut.length\n                    ? _vm.node.width\n                    : _vm.node.width / 2,\n                x: 0,\n                y: portIndex * 18,\n                disabled: _vm.portsInDisabled[port],\n                available: _vm.portsInAvailable[port],\n                hovered: _vm.isHoveredPort(\"in\", port),\n                align: \"start\"\n              },\n              on: {\n                mousedown: function($event) {\n                  return _vm.mouseDownPort(\"in\", port, $event)\n                },\n                mouseenter: function($event) {\n                  return _vm.mouseEnterPort(\"in\", port, $event)\n                },\n                mouseleave: function($event) {\n                  return _vm.mouseLeavePort(\"in\", port, $event)\n                }\n              }\n            })\n          }),\n          _vm._l(_vm.portsOut, function(ref, portIndex) {\n            var port = ref[0]\n            var portTitle = ref[1]\n            return _c(\"DiagramPort\", {\n              key: _vm.node.id + \"_out_\" + port,\n              attrs: {\n                id: _vm.node.id + \"_out_\" + port,\n                title: portTitle,\n                width: _vm.node.width + 8,\n                x: 0,\n                y: portIndex * 18,\n                disabled: _vm.portsOutDisabled[port],\n                available: _vm.portsOutAvailable[port],\n                hovered: _vm.isHoveredPort(\"out\", port),\n                align: \"end\"\n              },\n              on: {\n                mousedown: function($event) {\n                  return _vm.mouseDownPort(\"out\", port, $event)\n                },\n                mouseenter: function($event) {\n                  return _vm.mouseEnterPort(\"out\", port, $event)\n                },\n                mouseleave: function($event) {\n                  return _vm.mouseLeavePort(\"out\", port, $event)\n                }\n              }\n            })\n          })\n        ],\n        2\n      ),\n      _c(\n        \"svg\",\n        {\n          attrs: {\n            width: \"10\",\n            height: \"10\",\n            x: _vm.node.x + _vm.node.width - 10,\n            y: _vm.node.y + _vm.node.height - 10\n          },\n          on: { mousedown: _vm.onResizeStart }\n        },\n        [\n          _c(\"path\", {\n            staticStyle: { cursor: \"nwse-resize\" },\n            attrs: { d: \"M 0,10 10,0 v 10 z\", fill: \"#000\" }\n          })\n        ]\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","export default class Coordinates {\n    x = null;\n    y = null;\n\n    constructor({x = 10, y = 10}) {\n        this.x = Number(x);\n        this.y = Number(y);\n    }\n}\n","export default class Size {\n    width = null;\n    height = null;\n\n    /**\n     * @param {Number} width\n     * @param {Number} height\n     */\n    constructor({width = 150, height = 150}) {\n        this.width = Number(width);\n        this.height = Number(height);\n    }\n}\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { ulid } from 'ulid';\nimport Coordinates from './Coordinates';\nimport Size from './Size';\n\nvar Node = function () {\n  function Node(attr) {\n    _classCallCheck(this, Node);\n\n    _defineProperty(this, \"id\", null);\n\n    _defineProperty(this, \"title\", null);\n\n    _defineProperty(this, \"size\", null);\n\n    _defineProperty(this, \"coordinates\", null);\n\n    _defineProperty(this, \"data\", {});\n\n    _defineProperty(this, \"portsIn\", {});\n\n    _defineProperty(this, \"portsOut\", {});\n\n    this.id = Node.prepareProp('id', attr.id);\n    this.title = attr.title;\n    this.coordinates = Node.prepareProp('coordinates', attr.coordinates);\n    this.size = Node.prepareProp('size', attr.size);\n    this.data = Node.prepareProp('data', attr.data);\n    this.portsIn = Node.prepareProp('portsIn', attr.portsIn);\n    this.portsOut = Node.prepareProp('portsOut', attr.portsOut);\n  }\n\n  _createClass(Node, [{\n    key: \"portsHeight\",\n    get: function get() {\n      return Math.max(Object.keys(this.portsIn).length, Object.keys(this.portsOut).length) * Node.PORT_HEIGHT;\n    }\n  }, {\n    key: \"width\",\n    get: function get() {\n      return this.size.width;\n    }\n  }, {\n    key: \"height\",\n    get: function get() {\n      return this.size.height;\n    }\n  }, {\n    key: \"x\",\n    get: function get() {\n      return this.coordinates.x;\n    }\n  }, {\n    key: \"y\",\n    get: function get() {\n      return this.coordinates.y;\n    }\n  }, {\n    key: \"x1\",\n    get: function get() {\n      return this.coordinates.x + this.size.width;\n    }\n  }, {\n    key: \"y1\",\n    get: function get() {\n      return this.coordinates.y + this.size.height;\n    }\n  }, {\n    key: \"getPortCoordinates\",\n    value: function getPortCoordinates(type, name) {\n      if (!['in', 'out'].includes(type)) throw new Error('Undefined port type ' + type);\n      var ports = Object.keys(type === 'in' ? this.portsIn : this.portsOut);\n      var index = ports.findIndex(function (portName) {\n        return portName === name;\n      });\n\n      if (index === -1) {\n        throw new Error(\"\\\"\".concat(type, \"\\\" port with name \\\"\").concat(name, \"\\\" is undefined!\"));\n      }\n\n      return {\n        x: this.x + (type === 'out' ? this.width : 1),\n        y: this.y + this.height - (this.portsHeight - 2) + index * Node.PORT_HEIGHT + 1\n      };\n    }\n  }], [{\n    key: \"prepareProp\",\n    value: function prepareProp(name, value) {\n      switch (name) {\n        case 'id':\n          return value || ulid();\n\n        case 'coordinates':\n          return new Coordinates(value || {});\n\n        case 'size':\n          return new Size(value || {});\n\n        case 'portsIn':\n        case 'portsOut':\n          return _objectSpread({}, value || {});\n\n        case 'data':\n          return value || {};\n\n        default:\n          return value;\n      }\n    }\n  }, {\n    key: \"intersect\",\n    value: function intersect(a, b) {\n      return !(a.x > b.x1 || b.x > a.x1 || a.y > b.y1 || b.y > a.y1);\n    }\n  }]);\n\n  return Node;\n}();\n\n_defineProperty(Node, \"PORT_HEIGHT\", 18);\n\nexport { Node as default };","var render = function(_h, _vm) {\n  var _c = _vm._c\n  return _c(\n    \"svg\",\n    {\n      attrs: {\n        x: _vm.props.x,\n        y: _vm.props.y,\n        width: _vm.props.width,\n        height: \"16\"\n      }\n    },\n    [\n      _c(\n        \"rect\",\n        _vm._g(\n          {\n            attrs: {\n              fill: _vm.$options.fill(_vm.props.available, _vm.props.hovered),\n              x: _vm.props.align === \"start\" ? 0 : _vm.props.width - 10,\n              y: \"0\",\n              rx: \"5\",\n              ry: \"5\",\n              cursor: _vm.props.disabled ? \"default\" : \"pointer\",\n              width: \"10\",\n              height: \"10\"\n            }\n          },\n          _vm.listeners\n        )\n      ),\n      _c(\n        \"text\",\n        {\n          attrs: {\n            x: _vm.props.align === \"start\" ? 12 : _vm.props.width - 12,\n            y: \"9\",\n            \"font-size\": \"8pt\",\n            \"text-anchor\": _vm.props.align\n          }\n        },\n        [_vm._v(\"\\n    \" + _vm._s(_vm.props.title) + \"\\n  \")]\n      )\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","import { render, staticRenderFns } from \"./DiagramPort.vue?vue&type=template&id=561efff4&functional=true&\"\nimport script from \"./DiagramPort.vue?vue&type=script&lang=js&\"\nexport * from \"./DiagramPort.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/max/WORK/vue-diagram-editor/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('561efff4')) {\n      api.createRecord('561efff4', component.options)\n    } else {\n      api.rerender('561efff4', component.options)\n    }\n    module.hot.accept(\"./DiagramPort.vue?vue&type=template&id=561efff4&functional=true&\", function () {\n      api.rerender('561efff4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/DiagramPort.vue\"\nexport default component.exports","<template functional>\n  <svg :x=\"props.x\" :y=\"props.y\" :width=\"props.width\" height=\"16\">\n    <rect\n      :fill=\"$options.fill(props.available, props.hovered)\"\n      :x=\"props.align==='start' ? 0 : (props.width - 10)\"\n      y=\"0\"\n      rx=\"5\" ry=\"5\"\n      :cursor=\"props.disabled ? 'default' : 'pointer'\"\n      width=\"10\"\n      height=\"10\"\n      v-on=\"listeners\"\n    />\n    <text\n      :x=\"props.align==='start' ? 12 : (props.width - 12)\"\n      y=\"9\"\n      font-size=\"8pt\"\n      :text-anchor=\"props.align\"\n    >\n      {{ props.title }}\n    </text>\n  </svg>\n</template>\n\n<script>\nexport default {\n  fill(available, hovered) {\n    if (available) {\n      return hovered ? '#04ff00' : '#f00';\n    }\n    return hovered ? '#888' : '#444';\n  }\n};\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"svg\",\n    {\n      style: { cursor: _vm.dragging ? \"grabbing\" : \"grab\" },\n      attrs: { x: _vm.x, y: _vm.y, width: _vm.width, height: \"16\" },\n      on: {\n        mouseenter: function($event) {\n          _vm.hover = true\n        },\n        mouseleave: function($event) {\n          _vm.hover = false\n        }\n      }\n    },\n    [\n      _c(\"rect\", {\n        attrs: {\n          fill: \"#000\",\n          \"fill-opacity\": _vm.titleFillOpacity,\n          x: \"0\",\n          y: \"0\",\n          rx: \"3\",\n          ry: \"3\",\n          width: _vm.width,\n          height: \"16\"\n        }\n      }),\n      _c(\n        \"svg\",\n        {\n          attrs: {\n            x: \"0\",\n            y: \"0\",\n            width: _vm.deletable ? _vm.width - 17 : _vm.width,\n            height: \"16\"\n          }\n        },\n        [\n          _c(\"title\", [_vm._v(_vm._s(_vm.title))]),\n          _c(\n            \"text\",\n            {\n              attrs: {\n                x: \"2\",\n                y: \"13\",\n                \"font-size\": \"15\",\n                \"font-weight\": \"normal\",\n                fill: \"#fff\"\n              }\n            },\n            [_vm._v(_vm._s(_vm.title))]\n          )\n        ]\n      ),\n      _vm.deletable\n        ? _c(\n            \"svg\",\n            {\n              staticClass: \"diagram-editor__delete\",\n              attrs: { x: _vm.width - 15, y: \"1\", width: \"14\", height: \"14\" },\n              on: {\n                click: function($event) {\n                  return _vm.$emit(\"delete\")\n                }\n              }\n            },\n            [\n              _c(\"rect\", {\n                attrs: {\n                  x: \"0\",\n                  y: \"0\",\n                  width: \"14\",\n                  height: \"14\",\n                  rx: \"2\",\n                  ry: \"2\"\n                }\n              }),\n              _c(\"line\", { attrs: { x1: 1, y1: 1, x2: 13, y2: 13 } }),\n              _c(\"line\", { attrs: { x1: 13, y1: 1, x2: 1, y2: 13 } })\n            ]\n          )\n        : _vm._e()\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\n  <svg\n    :x=\"x\" :y=\"y\"\n    :width=\"width\"\n    height=\"16\"\n    :style=\"{cursor: dragging?'grabbing':'grab'}\"\n    @mouseenter=\"hover=true\"\n    @mouseleave=\"hover=false\"\n  >\n    <rect\n      fill=\"#000\"\n      :fill-opacity=\"titleFillOpacity\"\n      x=\"0\" y=\"0\"\n      rx=\"3\" ry=\"3\"\n      :width=\"width\"\n      height=\"16\"\n    />\n    <svg x=\"0\" y=\"0\" :width=\"deletable ? width - 17 : width\" height=\"16\">\n      <title>{{ title }}</title>\n      <text x=\"2\" y=\"13\" font-size=\"15\" font-weight=\"normal\" fill=\"#fff\">{{ title }}</text>\n    </svg>\n\n    <svg\n      v-if=\"deletable\"\n      :x=\"width - 15\" y=\"1\"\n      width=\"14\" height=\"14\"\n      class=\"diagram-editor__delete\"\n      @click=\"$emit('delete')\"\n    >\n      <rect\n        x=\"0\"\n        y=\"0\"\n        width=\"14\"\n        height=\"14\"\n        rx=\"2\" ry=\"2\"\n      />\n      <line\n        :x1=\"1\" :y1=\"1\"\n        :x2=\"13\" :y2=\"13\"\n      />\n      <line\n        :x1=\"13\" :y1=\"1\"\n        :x2=\"1\" :y2=\"13\"\n      />\n    </svg>\n  </svg>\n</template>\n\n<script>\nexport default {\n  name: 'DiagramNodeTitle',\n  props: {\n    x: {\n      type: Number,\n      required: true\n    },\n    y: {\n      type: Number,\n      required: true\n    },\n    width: {\n      type: Number,\n      required: true\n    },\n    title: {\n      type: String,\n      required: true\n    },\n    deletable: {\n      type: Boolean,\n      default: true\n    },\n    dragging: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: () => ({\n    hover: false,\n  }),\n  computed: {\n    titleFillOpacity() {\n      return this.hover ? 0.7 : 0.5;\n    }\n  },\n};\n</script>\n\n","import { render, staticRenderFns } from \"./DiagramNodeTitle.vue?vue&type=template&id=51477eda&\"\nimport script from \"./DiagramNodeTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./DiagramNodeTitle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/max/WORK/vue-diagram-editor/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('51477eda')) {\n      api.createRecord('51477eda', component.options)\n    } else {\n      api.reload('51477eda', component.options)\n    }\n    module.hot.accept(\"./DiagramNodeTitle.vue?vue&type=template&id=51477eda&\", function () {\n      api.rerender('51477eda', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/DiagramNodeTitle.vue\"\nexport default component.exports","<template>\n  <g :id=\"node.id\">\n    <rect\n      v-if=\"pulsable(node)\"\n      class=\"diagram--editor__pulse\"\n      :fill=\"pulseColor(node)\"\n      :stroke=\"pulseColor(node)\"\n      :x=\"node.x\"\n      :y=\"node.y\"\n      rx=\"3\" ry=\"3\"\n      :width=\"node.width\"\n      :height=\"node.height\"\n    />\n    <rect\n      :fill=\"color(node)\"\n      stroke=\"#000000\"\n      :stroke-width=\"selected ? 1 : 0\"\n      :x=\"node.x\" :y=\"node.y\"\n      rx=\"3\" ry=\"3\"\n      :width=\"node.width\"\n      :height=\"node.height\"\n    />\n    <DiagramNodeTitle\n      :x=\"node.x + 2\"\n      :y=\"node.y + 2\"\n      :width=\"node.size.width - 4\"\n      :title=\"node.title\"\n      :dragging=\"dragging\"\n      :deletable=\"nodeDeletable\"\n      @mousedown.native.stop=\"onDragStart\"\n      @delete=\"deleteNode\"\n    />\n\n    <rect\n      fill=\"#ffffff\"\n      :x=\"node.x + 2\"\n      :y=\"node.y + 20\"\n      rx=\"3\" ry=\"3\"\n      :width=\"node.width - 4\"\n      :height=\"node.height - 22\"\n      class=\"node-light-background\"\n    />\n\n    <foreignObject :x=\"node.x + 2\" :y=\"node.y + 20\" :width=\"slotWidth\" :height=\"slotHeight\">\n      <body xmlns=\"http://www.w3.org/1999/xhtml\" class=\"diagram-editor__node-body\">\n        <slot :width=\"slotWidth\" :height=\"slotHeight\"/>\n      </body>\n    </foreignObject>\n\n    <svg :x=\"node.x - 4\"\n         :y=\"node.y + node.height - portsHeight - 2\"\n         :width=\"node.width + 8\"\n         :height=\"portsHeight\"\n    >\n      <DiagramPort\n        v-for=\"([port, portTitle], portIndex) in portsIn\"\n        :key=\"node.id+'_in_'+port\"\n        :id=\"node.id+'_in_'+port\"\n        :title=\"portTitle\"\n        :width=\"(portIndex + 1) > portsOut.length ? node.width : node.width / 2\"\n        :x=\"0\"\n        :y=\"portIndex * 18\"\n        :disabled=\"portsInDisabled[port]\"\n        :available=\"portsInAvailable[port]\"\n        :hovered=\"isHoveredPort('in', port)\"\n        align=\"start\"\n        @mousedown=\"mouseDownPort('in', port, $event)\"\n        @mouseenter=\"mouseEnterPort('in', port, $event)\"\n        @mouseleave=\"mouseLeavePort('in', port, $event)\"\n      />\n\n      <DiagramPort\n        v-for=\"([port, portTitle], portIndex) in portsOut\"\n        :key=\"node.id+'_out_'+port\"\n        :id=\"node.id+'_out_'+port\"\n        :title=\"portTitle\"\n        :width=\"node.width + 8\"\n        :x=\"0\"\n        :y=\"portIndex * 18\"\n        :disabled=\"portsOutDisabled[port]\"\n        :available=\"portsOutAvailable[port]\"\n        :hovered=\"isHoveredPort('out', port)\"\n        align=\"end\"\n        @mousedown=\"mouseDownPort('out', port, $event)\"\n        @mouseenter=\"mouseEnterPort('out', port, $event)\"\n        @mouseleave=\"mouseLeavePort('out', port, $event)\"\n      />\n    </svg>\n    <svg width=\"10\" height=\"10\"\n         :x=\"node.x + node.width - 10\" :y=\"node.y + node.height - 10\"\n         @mousedown=\"onResizeStart\"\n    >\n      <path d=\"M 0,10 10,0 v 10 z\" fill=\"#000\" style=\"cursor:nwse-resize\"/>\n    </svg>\n  </g>\n</template>\n<script>\nimport Node from '../models/Node';\nimport DiagramPort from \"./DiagramPort\";\nimport DiagramNodeTitle from './DiagramNodeTitle';\nimport isEqual from 'lodash/isEqual';\n\nexport default {\n  name: \"DiagramNode\",\n\n  components: {\n    DiagramNodeTitle, DiagramPort\n  },\n\n  props: {\n    node: {type: Node, required: true},\n    color: {type: Function, required: true},\n    pulseColor: {type: Function, required: true},\n    pulsable: {type: Function, required: true},\n    portDisabled: {type: Function, required: true},\n    portAvailable: {type: Function, required: true},\n    deletable: {type: Function, required: true},\n    activePort: {type: Object, default: null},\n    hoveredPort: {type: Object, default: null},\n    selected: {type: Boolean, default: false},\n    dragging: {type: Boolean, default: false},\n  },\n\n  data() {\n    return {\n      nodeStrokeWidth: 0,\n      titleFillOpacity: 0.25\n    };\n  },\n\n  computed: {\n    portsIn() {\n      return Object.entries(this.node.portsIn);\n    },\n    portsOut() {\n      return Object.entries(this.node.portsOut);\n    },\n    portsInDisabled() {\n      return Object.keys(this.node.portsIn).reduce((acc, port) => ({\n        ...acc,\n        [port]: this.portDisabled({id: this.node.id, type: 'in', port})\n      }), {});\n    },\n    portsOutDisabled() {\n      return Object.keys(this.node.portsOut).reduce((acc, port) => ({\n        ...acc,\n        [port]: this.portDisabled({id: this.node.id, type: 'out', port})\n      }), {});\n    },\n    portsInAvailable() {\n      return Object.keys(this.node.portsIn).reduce((acc, port) => ({\n        ...acc,\n        [port]: this.activePort && this.isAvailablePort('in', port)\n      }), {});\n    },\n    portsOutAvailable() {\n      return Object.keys(this.node.portsOut).reduce((acc, port) => ({\n        ...acc,\n        [port]: this.activePort && this.isAvailablePort('out', port)\n      }), {});\n    },\n    portsHeight() {\n      return this.node.portsHeight;\n    },\n    slotWidth() {\n      return this.node.size.width - 4;\n    },\n    slotHeight() {\n      //  -  - \n      return this.node.size.height - 22;\n    },\n    nodeDeletable(){\n      return this.deletable(this.node);\n    }\n  },\n\n  methods: {\n    isAvailablePort(type, port) {\n      const data = {id: this.node.id, type, port};\n      const activePort = {...this.activePort};\n      const hoveredPort = this.hoveredPort ? {...this.hoveredPort} : null;\n      const hoveredIsActive = hoveredPort ? isEqual(activePort, hoveredPort) : false;\n      return !hoveredIsActive && !isEqual(activePort, data) && this.portAvailable({\n        ...data,\n        activePort: {...this.activePort}\n      });\n    },\n\n    deleteNode() {\n      this.$emit(\"delete\", this.node.id);\n    },\n\n    onDragStart(e) {\n      this.$emit('drag-start', {\n        node: this.node,\n        eX: e.x,\n        eY: e.y,\n      });\n    },\n    onResizeStart(e) {\n      this.$emit('resize-start', {\n        node: this.node,\n        eX: e.x,\n        eY: e.y,\n      });\n    },\n\n    isHoveredPort(type, port) {\n      return this.hoveredPort &&\n        this.node.id === this.hoveredPort.id &&\n        port === this.hoveredPort.port &&\n        type === this.hoveredPort.type;\n    },\n\n    mouseDownPort(type, port) {\n      const portIsDisabled = type === 'in'\n        ? this.portsInDisabled[port]\n        : this.portsOutDisabled[port];\n      if (!portIsDisabled) {\n        this.$emit('active-port', {\n          id: this.node.id,\n          port: port,\n          type: type\n        });\n      }\n    },\n\n    mouseEnterPort(type, port) {\n      this.$emit('hovered-port', {\n        id: this.node.id,\n        port: port,\n        type: type\n      });\n    },\n    mouseLeavePort() {\n      this.$emit('hovered-port', null);\n    },\n  }\n};\n</script>\n","import { render, staticRenderFns } from \"./DiagramNode.vue?vue&type=template&id=6da56cf5&\"\nimport script from \"./DiagramNode.vue?vue&type=script&lang=js&\"\nexport * from \"./DiagramNode.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/max/WORK/vue-diagram-editor/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('6da56cf5')) {\n      api.createRecord('6da56cf5', component.options)\n    } else {\n      api.reload('6da56cf5', component.options)\n    }\n    module.hot.accept(\"./DiagramNode.vue?vue&type=template&id=6da56cf5&\", function () {\n      api.rerender('6da56cf5', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/DiagramNode.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"g\",\n    {\n      on: {\n        mouseenter: function($event) {\n          _vm.hovered = true\n        },\n        mouseleave: function($event) {\n          _vm.hovered = false\n        },\n        mousedown: function($event) {\n          return _vm.$emit(\"mousedown\", $event)\n        }\n      }\n    },\n    [\n      _c(\"path\", {\n        style: _vm.largeStrokeStyle,\n        attrs: { d: _vm.curve, \"stroke-width\": \"8\", fill: \"none\" }\n      }),\n      _c(\"path\", {\n        staticStyle: { stroke: \"rgb(0,0,0)\" },\n        attrs: { d: _vm.curve, \"stroke-width\": \"2\", fill: \"none\" }\n      })\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { ulid } from \"ulid\";\n\nvar Link = function Link(props) {\n  _classCallCheck(this, Link);\n\n  _defineProperty(this, \"id\", null);\n\n  _defineProperty(this, \"start_id\", null);\n\n  _defineProperty(this, \"start_port\", null);\n\n  _defineProperty(this, \"end_id\", null);\n\n  _defineProperty(this, \"end_port\", null);\n\n  this.id = props.id || ulid();\n  if (!props.start_id) throw new Error('start_id is empty!');\n  this.start_id = props.start_id;\n  this.start_port = props.start_port || 'default';\n  if (!props.end_id) throw new Error('end_id is empty!');\n  this.end_id = props.end_id;\n  this.end_port = props.end_port || 'default';\n};\n\nexport { Link as default };","import { render, staticRenderFns } from \"./DiagramLink.vue?vue&type=template&id=71e2b2ed&\"\nimport script from \"./DiagramLink.vue?vue&type=script&lang=js&\"\nexport * from \"./DiagramLink.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/max/WORK/vue-diagram-editor/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('71e2b2ed')) {\n      api.createRecord('71e2b2ed', component.options)\n    } else {\n      api.reload('71e2b2ed', component.options)\n    }\n    module.hot.accept(\"./DiagramLink.vue?vue&type=template&id=71e2b2ed&\", function () {\n      api.rerender('71e2b2ed', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/DiagramLink.vue\"\nexport default component.exports","<template>\n  <g\n    @mouseenter=\"hovered=true\"\n    @mouseleave=\"hovered=false\"\n    @mousedown=\"$emit('mousedown', $event)\"\n  >\n    <path\n      :d=\"curve\"\n      :style=\"largeStrokeStyle\"\n      stroke-width=\"8\"\n      fill=\"none\"\n    />\n    <path\n      :d=\"curve\"\n      style=\"stroke:rgb(0,0,0);\"\n      stroke-width=\"2\"\n      fill=\"none\"\n    />\n  </g>\n</template>\n<script>\nimport Link from '../models/Link';\nimport Node from '../models/Node';\n\nexport default {\n  name: \"DiagramLink\",\n  props: {\n    link: {type: Link, required: true},\n    nodeStart: {type: Node, required: true},\n    nodeEnd: {type: Node, required: true},\n    selected: {type: Boolean, default: false}\n  },\n\n  data: () => ({\n    hovered: false\n  }),\n\n  computed: {\n    startCoordinates() {\n      return this.nodeStart.getPortCoordinates('out', this.link.start_port);\n    },\n    endCoordinates() {\n      return this.nodeEnd.getPortCoordinates('in', this.link.end_port);\n    },\n    x1() {\n      return this.startCoordinates.x - 2;\n    },\n\n    y1() {\n      return this.startCoordinates.y;\n    },\n\n    x2() {\n      return this.endCoordinates.x + 1;\n    },\n\n    y2() {\n      return this.endCoordinates.y;\n    },\n\n    curve() {\n      let x1 = Math.trunc(this.x1),\n        y1 = Math.trunc(this.y1),\n        x2 = Math.trunc(this.x2),\n        y2 = Math.trunc(this.y2);\n\n      let distance = Math.trunc(4 * Math.sqrt(Math.abs(x1 - x2))) + 10;\n      return `M${x1},${y1} C${x1 + distance},${y1} ${x2 - distance},${y2} ${x2},${y2}`;\n    },\n\n    largeStrokeStyle() {\n      if (this.selected) {\n        return this.hovered ? 'stroke:rgba(0,0,255,0.6);' : 'stroke:rgba(0,0,255,0.4);';\n      }\n      return this.hovered ? 'stroke:rgba(255,0,0,0.5);' : 'stroke:rgba(255,0,0,0.0);';\n    }\n  },\n};\n</script>\n","export const getAbsoluteXY = element => {\n    var viewportElement = document.documentElement;\n    var box = element.getBoundingClientRect();\n    var scrollLeft = viewportElement.scrollLeft;\n    var scrollTop = viewportElement.scrollTop;\n    return {\n        x: box.left + scrollLeft,\n        y: box.top + scrollTop\n    };\n};\n\nexport const snapToGrip = (val, gridSize) => {\n    return gridSize * Math.round(val / gridSize);\n};\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Vue from 'vue';\nimport Node from '../models/Node';\nimport Link from '../models/Link';\nimport Coordinates from '../models/Coordinates';\nimport { snapToGrip } from '../helpers';\nimport Size from '../models/Size';\nimport cloneDeep from 'lodash/cloneDeep';\nimport isEqual from \"lodash/isEqual\";\nexport default (function () {\n  return {\n    data: function data() {\n      return {\n        nodes: {},\n        links: {},\n        draggedNode: null,\n        resizedNode: null,\n        selectedNode: null,\n        selectedLink: null,\n        initialCursorOffset: {\n          x: 0,\n          y: 0\n        },\n        activePort: null,\n        hoveredPort: null,\n        nodeCoordinatesBeforeDrag: {\n          x: 0,\n          y: 0\n        },\n        nodeSizeBeforeResize: {\n          width: 0,\n          height: 0\n        },\n        currentCursorPos: null\n      };\n    },\n    computed: {\n      newLink: function newLink() {\n        if (!this.activePort || this.currentCursorPos === null) return null;\n        var _this$activePort = this.activePort,\n            id = _this$activePort.id,\n            type = _this$activePort.type,\n            port = _this$activePort.port;\n        var startCoordinates = this.nodes[id].getPortCoordinates(type, port);\n        return {\n          x1: startCoordinates.x,\n          y1: startCoordinates.y,\n          x2: this.currentCursorPos.x,\n          y2: this.currentCursorPos.y\n        };\n      }\n    },\n    watch: {\n      selectedNode: function selectedNode(id) {\n        if (id) {\n          this.$emit('select-node', id);\n        }\n      },\n      draggedNode: function draggedNode(id) {\n        if (id) {\n          var node = this.nodes[id];\n          this.nodeCoordinatesBeforeDrag = _objectSpread({}, node.coordinates);\n        }\n\n        this.toggleMoveEventListener(id !== null);\n      },\n      resizedNode: function resizedNode(id) {\n        if (id) {\n          var node = this.nodes[id];\n          this.nodeSizeBeforeResize = _objectSpread({}, node.size);\n        }\n\n        this.toggleMoveEventListener(id !== null);\n      },\n      activePort: function activePort(v) {\n        this.toggleMoveEventListener(v !== null);\n      }\n    },\n    methods: {\n      setModel: function setModel(model) {\n        this.nodes = Object.values(model.nodes || []).reduce(function (carry, node) {\n          var nodeModel = new Node(node);\n          return _objectSpread(_objectSpread({}, carry), {}, _defineProperty({}, nodeModel.id, nodeModel));\n        }, {});\n        this.links = Object.values(model.links || []).reduce(function (carry, link) {\n          var linkModel = new Link(link);\n          return _objectSpread(_objectSpread({}, carry), {}, _defineProperty({}, linkModel.id, linkModel));\n        }, {});\n      },\n      beforePan: function beforePan() {\n        return this.pan && !(this.draggedNode || this.resizedNode || this.activePort);\n      },\n      addNode: function addNode(node) {\n        var nodeModel = new Node(node);\n        Vue.set(this.nodes, nodeModel.id, nodeModel);\n      },\n      addLink: function addLink(link) {\n        var linkModel = new Link(link);\n        Vue.set(this.links, linkModel.id, linkModel);\n      },\n      deleteNode: function deleteNode(id) {\n        var node = this.nodes[id];\n        if (this.beforeDeleteNode(node) === false) return;\n        Vue.delete(this.nodes, id);\n\n        for (var linkId in this.links) {\n          if (this.links.hasOwnProperty(linkId)) {\n            var link = this.links[linkId];\n\n            if (link.start_id === id || link.end_id === id) {\n              Vue.delete(this.links, linkId);\n            }\n          }\n        }\n\n        this.$emit('deleted-node', id);\n      },\n      deleteLink: function deleteLink(id) {\n        if (this.beforeDeleteLink(this.links[id]) === false) return;\n        Vue.delete(this.links, id);\n        this.$emit('deleted-link', id);\n      },\n      selectLink: function selectLink(id) {\n        this.selectedLink = id;\n      },\n      clearSelection: function clearSelection() {\n        this.selectedNode = null;\n        this.selectedLink = null;\n      },\n      toggleMoveEventListener: function toggleMoveEventListener(enable) {\n        if (enable) {\n          document.body.addEventListener('mousemove', this.mouseMove);\n          document.body.addEventListener('mouseup', this.mouseUp);\n        } else {\n          document.body.removeEventListener('mousemove', this.mouseMove);\n          document.body.removeEventListener('mouseup', this.mouseUp);\n        }\n      },\n      mouseMove: function mouseMove(pos) {\n        if (this.draggedNode || this.resizedNode) {\n          this.dragMove({\n            gridSnap: this.gridSnap,\n            x: pos.x,\n            y: pos.y\n          });\n        } else if (this.activePort) {\n          var _this$convertXYtoView = this.convertXYtoViewPort(pos.pageX, pos.pageY),\n              x = _this$convertXYtoView.x,\n              y = _this$convertXYtoView.y;\n\n          this.currentCursorPos = {\n            x: x,\n            y: y\n          };\n        }\n      },\n      mouseUp: function mouseUp() {\n        if (this.draggedNode || this.resizedNode) {\n          var id = this.draggedNode || this.resizedNode;\n          var node = id ? this.nodes[id] : null;\n          var isDragged = !!this.draggedNode;\n          var hasChanges = this.draggedNode && !isEqual(_objectSpread({}, node.coordinates), _objectSpread({}, this.nodeCoordinatesBeforeDrag)) || this.resizedNode && !isEqual(_objectSpread({}, node.size), _objectSpread({}, this.nodeSizeBeforeResize));\n          this.dragEnd();\n\n          if (hasChanges) {\n            this.$emit('updated-node', node);\n          } else if (isDragged) {\n            this.selectedNode = id;\n          }\n        } else if (this.activePort) {\n          var activePort = _objectSpread({}, this.activePort);\n\n          if (this.hoveredPort) {\n            var hoveredPort = _objectSpread({}, this.hoveredPort);\n\n            if (isEqual(activePort, hoveredPort)) {\n              this.$emit('click-port', activePort);\n            } else {\n              if (this.portAvailable(_objectSpread(_objectSpread({}, hoveredPort), {}, {\n                activePort: activePort\n              }))) {\n                var link = new Link({\n                  start_id: activePort.id,\n                  start_port: activePort.port,\n                  end_id: hoveredPort.id,\n                  end_port: hoveredPort.port\n                });\n                Vue.set(this.links, link.id, link);\n                this.$emit('created-link', link);\n              }\n            }\n          }\n\n          this.activePort = null;\n          this.currentCursorPos = null;\n        }\n      },\n      serialize: function serialize() {\n        return {\n          nodes: Object.values(this.nodes).map(function (node) {\n            return cloneDeep(node);\n          }),\n          links: Object.values(this.links).map(function (link) {\n            return cloneDeep(link);\n          })\n        };\n      },\n      dragStart: function dragStart(_ref) {\n        var id = _ref.id,\n            offset = _ref.offset,\n            type = _ref.type;\n\n        if (type === 'drag') {\n          this.draggedNode = id;\n          this.resizedNode = null;\n        } else if (type === 'resize') {\n          this.draggedNode = null;\n          this.resizedNode = id;\n        }\n\n        this.initialCursorOffset = offset;\n      },\n      dragMove: function dragMove(_ref2) {\n        var _this = this;\n\n        var gridSnap = _ref2.gridSnap,\n            x = _ref2.x,\n            y = _ref2.y;\n\n        var getCoords = function getCoords(X, Y) {\n          var _this$convertXYtoView2 = _this.convertXYtoViewPort(X, Y),\n              x = _this$convertXYtoView2.x,\n              y = _this$convertXYtoView2.y;\n\n          x = snapToGrip(x, gridSnap) - gridSnap / 2;\n          y = snapToGrip(y, gridSnap);\n          x -= _this.initialCursorOffset.x;\n          y -= _this.initialCursorOffset.y;\n          return {\n            x: x,\n            y: y\n          };\n        };\n\n        if (this.draggedNode) {\n          this.updateNode({\n            id: this.draggedNode,\n            name: 'coordinates',\n            value: new Coordinates(getCoords(x, y))\n          });\n        }\n\n        if (this.resizedNode) {\n          var node = this.nodes[this.resizedNode];\n          var coords = getCoords(x, y);\n          var size = new Size({\n            width: Math.abs(coords.x - node.coordinates.x),\n            height: Math.abs(coords.y - node.coordinates.y)\n          });\n\n          if (size.width < 30) {\n            size.width = 30;\n          }\n\n          if (size.height < 30) {\n            size.height = 30;\n          }\n\n          this.updateNode({\n            id: this.resizedNode,\n            name: 'size',\n            value: size\n          });\n        }\n      },\n      dragEnd: function dragEnd() {\n        this.draggedNode = null;\n        this.resizedNode = null;\n      },\n      updateNode: function updateNode(_ref3) {\n        var id = _ref3.id,\n            name = _ref3.name,\n            value = _ref3.value;\n        Vue.set(this.nodes[id], name, Node.prepareProp(name, value));\n      }\n    }\n  };\n});","import { render, staticRenderFns } from \"./DiagramRoot.vue?vue&type=template&id=20c2cfd5&\"\nimport script from \"./DiagramRoot.vue?vue&type=script&lang=js&\"\nexport * from \"./DiagramRoot.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/max/WORK/vue-diagram-editor/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('20c2cfd5')) {\n      api.createRecord('20c2cfd5', component.options)\n    } else {\n      api.reload('20c2cfd5', component.options)\n    }\n    module.hot.accept(\"./DiagramRoot.vue?vue&type=template&id=20c2cfd5&\", function () {\n      api.rerender('20c2cfd5', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/DiagramRoot.vue\"\nexport default component.exports","<template>\n  <svg\n    :id=\"`diagram-root-${uniqId}`\"\n    ref=\"diagramRoot\"\n    version=\"1.1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    :viewBox.camel=\"'0 0 ' + (width/1.2) + ' ' + (height/1.2)\"\n    :width=\"width\"\n    :height=\"height\"\n    preserveAspectRatio=\"xMinYMin meet\"\n    class=\"diagram-editor__svg-content\"\n  >\n    <g ref=\"viewPort\" class=\"svg-pan-zoom_viewport\" x=\"50\" y=\"50\">\n      <defs>\n        <pattern :id=\"`diagram-small-grid-${uniqId}`\" width=\"16\" height=\"16\" patternUnits=\"userSpaceOnUse\">\n          <path d=\"M 16 0 L 0 0 0 16\" fill=\"none\" stroke=\"#ccc\" stroke-width=\"0.5\"/>\n        </pattern>\n        <pattern :id=\"`diagram-grid-${uniqId}`\" width=\"80\" height=\"80\" patternUnits=\"userSpaceOnUse\">\n          <rect width=\"80\" height=\"80\" :fill=\"`url(#diagram-small-grid-${uniqId})`\"/>\n          <path d=\"M 80 0 L 0 0 0 80\" fill=\"none\" stroke=\"#ccc\" stroke-width=\"1\"/>\n        </pattern>\n      </defs>\n\n      <rect\n        ref=\"grid\"\n        x=\"-5000px\" y=\"-5000px\"\n        width=\"10000px\" height=\"10000px\"\n        :fill=\"`url(#diagram-grid-${uniqId})`\"\n        @mousedown=\"clearSelection\"\n      />\n\n      <DiagramLink\n        v-for=\"link in links\"\n        :id=\"link.id\"\n        :key=\"link.id\"\n        :link=\"link\"\n        :node-start=\"nodes[link.start_id]\"\n        :node-end=\"nodes[link.end_id]\"\n        :selected=\"selectedLink === link.id\"\n        @mousedown=\"selectLink(link.id)\"\n      />\n      <DiagramNode\n        v-for=\"node in nodes\"\n        :key=\"node.id\"\n        :node=\"node\"\n        :color=\"nodeColor\"\n        :pulse-color=\"nodePulseColor\"\n        :pulsable=\"nodePulsable\"\n        :deletable=\"nodeDeletable\"\n        :dragging=\"draggedNode === node.id\"\n        :selected=\"selectedNode === node.id\"\n        :port-disabled=\"portDisabled\"\n        :port-available=\"portAvailable\"\n        :active-port=\"activePort\"\n        :hovered-port=\"hoveredPort\"\n\n        @delete=\"deleteNode\"\n        @drag-start=\"onNodeDragStart\"\n        @resize-start=\"onNodeResizeStart\"\n        @hovered-port=\"setHoveredPort\"\n        @active-port=\"setActivePort\"\n      >\n        <template #default=\"scopedParams\">\n          <slot v-bind=\"scopedParams\" :node=\"node\"/>\n        </template>\n      </DiagramNode>\n      <line\n        v-if=\"newLink\"\n        :x1=\"newLink.x1\"\n        :y1=\"newLink.y1\"\n        :x2=\"newLink.x2\"\n        :y2=\"newLink.y2\"\n        style=\"stroke:rgb(255,0,0);stroke-width:2\"\n        pointer-events=\"none\"\n      />\n    </g>\n  </svg>\n</template>\n\n<script>\nimport DiagramNode from './DiagramNode';\nimport DiagramLink from './DiagramLink';\nimport DiagramEditorMixin from '../mixins/DiagramEditorMixin';\nimport SvgPanZoomMixin from '../mixins/SvgPanZoomMixin';\nimport {getAbsoluteXY} from '../helpers';\nimport {ulid} from \"ulid\";\n\nexport default {\n  name: 'DiagramRoot',\n  components: {\n    DiagramNode,\n    DiagramLink,\n  },\n  mixins: [DiagramEditorMixin(), SvgPanZoomMixin()],\n  props: {\n    width: {type: Number, default: 0},\n    height: {type: Number, required: true},\n    gridSnap: {type: Number, required: true},\n    zoomEnabled: {type: Boolean, required: true},\n    nodeColor: {type: Function, required: true},\n    nodePulseColor: {type: Function, required: true},\n    nodePulsable: {type: Function, required: true},\n    nodeDeletable: {type: Function, required: true},\n    beforeDeleteNode: {type: Function, required: true},\n    beforeDeleteLink: {type: Function, required: true},\n    portDisabled: {type: Function, required: true},\n    portAvailable: {type: Function, required: true},\n    pan: {type: Boolean, required: true},\n    preventMouseEventsDefault: {type: Boolean, default: true},\n  },\n  computed: {\n    uniqId() {\n      return ulid();\n    }\n  },\n  mounted() {\n    document.addEventListener('keydown', this.keyDownHandler);\n  },\n  beforeDestroy() {\n    document.removeEventListener('keydown', this.keyDownHandler);\n  },\n\n  methods: {\n    keyDownHandler(e) {\n      // delete\n      if (e.keyCode === 46) {\n        if (this.selectedNode && this.nodeDeletable(this.nodes[this.selectedNode])) {\n          this.deleteNode(this.selectedNode);\n        }\n        if (this.selectedLink) {\n          this.deleteLink(this.selectedLink);\n        }\n      }\n      // esc\n      if (e.keyCode === 27) {\n        this.clearSelection();\n      }\n    },\n\n    convertXYtoViewPort(x, y) {\n      const root = this.$refs.diagramRoot;\n      const viewport = this.$refs.viewPort;\n      let point = root.createSVGPoint();\n      let rootPosition = getAbsoluteXY(root);\n      point.x = x - rootPosition.x;\n      point.y = y - rootPosition.y;\n      let ctm = viewport.getCTM().inverse();\n      return point.matrixTransform(ctm);\n    },\n\n    onNodeDragStart({node, eX, eY}) {\n      const {x, y} = this.convertXYtoViewPort(eX, eY);\n      this.dragStart({\n        type: 'drag',\n        id: node.id,\n        offset: {\n          x: Math.round(x - node.x),\n          y: Math.round(y - node.y)\n        }\n      });\n    },\n    onNodeResizeStart({node, eX, eY}) {\n      const {x, y} = this.convertXYtoViewPort(eX, eY);\n      this.dragStart({\n        type: 'resize',\n        id: node.id,\n        offset: {\n          x: -Math.round((node.x + node.width) - x),\n          y: -Math.round((node.y + node.height) - y)\n        }\n      });\n    },\n    setActivePort(port) {\n      this.activePort = port;\n    },\n    setHoveredPort(port) {\n      this.hoveredPort = port;\n    },\n  }\n};\n</script>\n","import svgPanZoom from 'svg-pan-zoom';\n\nexport default () => ({\n    data: () => ({\n        spz: null\n    }),\n    mounted() {\n        this.spz = svgPanZoom(this.$refs.diagramRoot, {\n            viewportSelector: this.$refs.viewPort,\n            center: false,\n            preventMouseEventsDefault: this.preventMouseEventsDefault,\n            beforePan: this.beforePan,\n            beforeZoom: () => this.zoomEnabled,\n        });\n    },\n    beforeDestroy() {\n        if (this.spz) {\n            this.spz.destroy();\n        }\n    },\n    methods: {\n        enableDblClickZoom() {\n            if (this.spz) return this.spz.enableDblClickZoom();\n        },\n        disableDblClickZoom() {\n            if (this.spz) return this.spz.disableDblClickZoom();\n        },\n        isDblClickZoomEnabled() {\n            if (this.spz) return this.spz.isDblClickZoomEnabled();\n        },\n        enableMouseWheelZoom() {\n            if (this.spz) return this.spz.enableMouseWheelZoom();\n        },\n        disableMouseWheelZoom() {\n            if (this.spz) return this.spz.disableMouseWheelZoom();\n        },\n        isMouseWheelZoomEnabled() {\n            if (this.spz) return this.spz.isMouseWheelZoomEnabled();\n        },\n        resetZoom() {\n            if (this.spz) return this.spz.resetZoom();\n        },\n        updateBBox() {\n            if (this.spz) return this.spz.updateBBox();\n        },\n        fit() {\n            if (this.spz) return this.spz.fit();\n        },\n        contain() {\n            if (this.spz) return this.spz.contain();\n        },\n        center() {\n            if (this.spz) return this.spz.center();\n        },\n    },\n});\n","import { render, staticRenderFns } from \"./Diagram.vue?vue&type=template&id=250e0153&\"\nimport script from \"./Diagram.vue?vue&type=script&lang=js&\"\nexport * from \"./Diagram.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/max/WORK/vue-diagram-editor/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('250e0153')) {\n      api.createRecord('250e0153', component.options)\n    } else {\n      api.reload('250e0153', component.options)\n    }\n    module.hot.accept(\"./Diagram.vue?vue&type=template&id=250e0153&\", function () {\n      api.rerender('250e0153', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/Diagram.vue\"\nexport default component.exports","<template>\n  <div class=\"diagram-editor__wrapper\">\n    <DiagramRoot\n      ref=\"diagram\"\n      :width=\"width\"\n      :height=\"height\"\n      :grid-snap=\"gridSnap\"\n      :zoom-enabled=\"zoomEnabled\"\n      :node-color=\"nodeColor\"\n      :node-pulsable=\"nodePulsable\"\n      :node-deletable=\"nodeDeletable\"\n      :node-pulse-color=\"nodePulseColor\"\n      :before-delete-node=\"beforeDeleteNode\"\n      :before-delete-link=\"beforeDeleteLink\"\n      :port-disabled=\"portDisabled\"\n      :port-available=\"portAvailable\"\n      :pan=\"pan\"\n      :prevent-mouse-events-default=\"preventMouseEventsDefault\"\n      @select-node=\"$emit('select-node', $event)\"\n      @deleted-node=\"$emit('deleted-node', $event)\"\n      @deleted-link=\"$emit('deleted-link', $event)\"\n      @updated-node=\"$emit('updated-node', $event)\"\n      @click-port=\"$emit('click-port', $event)\"\n      @created-link=\"$emit('created-link', $event)\"\n    >\n      <template #default=\"scopedParams\">\n        <slot name=\"node\" v-bind=\"scopedParams\"/>\n      </template>\n    </DiagramRoot>\n  </div>\n</template>\n<script>\nimport DiagramRoot from \"./DiagramRoot\";\nimport throttle from 'lodash/throttle';\n\nexport default {\n  name: \"Diagram\",\n\n  components: {\n    DiagramRoot,\n  },\n\n  props: {\n    height: {\n      type: Number,\n      default: 500\n    },\n    gridSnap: {\n      type: Number,\n      default: 1\n    },\n    zoomEnabled: {\n      type: Boolean,\n      default: true\n    },\n    nodeColor: {\n      type: Function,\n      default: () => \"#66cc00\"\n    },\n    nodePulseColor: {\n      type: Function,\n      default: () => '#f00'\n    },\n    nodePulsable: {\n      type: Function,\n      default: () => false\n    },\n    nodeDeletable: {\n      type: Function,\n      default: () => true\n    },\n    beforeDeleteNode: {\n      type: Function,\n      default: () => true\n    },\n    beforeDeleteLink: {\n      type: Function,\n      default: () => true\n    },\n    portDisabled: {\n      type: Function,\n      default: () => false\n    },\n    portAvailable: {\n      type: Function,\n      default: () => true\n    },\n    pan: {\n      type: Boolean,\n      default: true\n    },\n    preventMouseEventsDefault: {\n      type: Boolean,\n      default: true\n    },\n  },\n\n  data() {\n    return {\n      width: null,\n    };\n  },\n\n  mounted() {\n    window.addEventListener('resize', this.updateWrapperWidth);\n    this.updateWrapperWidth();\n  },\n\n  beforeDestroy() {\n    window.removeEventListener('resize', this.updateWrapperWidth);\n  },\n\n  methods: {\n    updateWrapperWidth: throttle(function () {\n      const {width} = this.$el.getBoundingClientRect();\n      this.width = width;\n    }, 100),\n\n    setModel(model) {\n      this.$refs.diagram.setModel(model);\n    },\n\n    serialize() {\n      return this.$refs.diagram.serialize();\n    },\n\n    addNode(node) {\n      this.$refs.diagram.addNode(node);\n    },\n\n    addLink(link) {\n      this.$refs.diagram.addLink(link);\n    },\n\n    updateNode({id, name, value}) {\n      this.$refs.diagram.updateNode({id, name, value});\n    },\n\n    deleteNode(id) {\n      this.$refs.diagram.deleteNode(id);\n    },\n\n    deleteLink(id) {\n      this.$refs.diagram.deleteLink(id);\n    },\n\n    enableDblClickZoom() {\n      return this.$refs.diagram.enableDblClickZoom();\n    },\n    disableDblClickZoom() {\n      return this.$refs.diagram.disableDblClickZoom();\n    },\n    isDblClickZoomEnabled() {\n      return this.$refs.diagram.isDblClickZoomEnabled();\n    },\n    enableMouseWheelZoom() {\n      return this.$refs.diagram.enableMouseWheelZoom();\n    },\n    disableMouseWheelZoom() {\n      return this.$refs.diagram.disableMouseWheelZoom();\n    },\n    isMouseWheelZoomEnabled() {\n      return this.$refs.diagram.isMouseWheelZoomEnabled();\n    },\n    resetZoom() {\n      return this.$refs.diagram.resetZoom();\n    },\n    updateBBox() {\n      return this.$refs.diagram.updateBBox();\n    },\n    fit() {\n      return this.$refs.diagram.fit();\n    },\n    contain() {\n      return this.$refs.diagram.contain();\n    },\n    center() {\n      return this.$refs.diagram.center();\n    },\n  },\n};\n</script>\n\n","import Diagram from './components/Diagram';\nimport Link from './models/Link';\nimport Node from './models/Node';\nimport Size from './models/Size';\nimport Coordinates from './models/Coordinates';\n\nimport './style.scss';\n\n// Export components and models\nexport {Diagram, Node, Link, Size, Coordinates};\n\nexport default Diagram;\n"],"sourceRoot":""}